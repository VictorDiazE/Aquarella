
function frmFrontFormJS(){function e(){var a=jQuery(this),b=a.closest(".frm_inside_container").find("label.frm_primary_label");0<a.val().length?b.addClass("frm_visible"):b.removeClass("frm_visible")}function f(a,b){var c="";c=a instanceof jQuery?a.attr("name"):a.name;if(""===c)return c=a instanceof jQuery?a.data("name"):a.getAttribute("data-name"),""!==c&&c?c:0;c=c.replace("item_meta[","").replace("[]","").split("]");if(1>c.length)return 0;c=c.filter(function(a){return""!==a});var d=c[0],g=!1;if(1===
c.length)return d;if("[form"===c[1]||"[row_ids"===c[1])return 0;jQuery('input[name="item_meta['+d+'][form]"]').length&&(d=c[2].replace("[",""),g=!0);"other"===d&&(d=g?c[3].replace("[",""):c[1].replace("[",""));!0===b&&(d=d===c[0]?d+"-"+c[1].replace("[",""):d+"-"+c[0]+"-"+c[1].replace("[",""));return d}function h(a,b){var c=a.getAttribute("data-frmfile");if("hidden"===a.type&&null===c)return b;var d="",g="";if("checkbox"===a.type||"radio"===a.type)c=jQuery('input[name="'+a.name+'"]').closest(".frm_required_field").find("input:checked"),
jQuery(c).each(function(){d=this.value});else if("file"===a.type||c)"undefined"===typeof c&&(c=f(a,!0),c=c.replace("file","")),"undefined"===typeof b[c]&&(d=p(c)),g=c;else{c=a.className;if(-1!==c.indexOf("frm_pos_none"))return b;d=jQuery(a).val();if(null===d)d="";else if("string"!==typeof d){g=d;d="";for(var k=0;k<g.length;k++)""!==g[k]&&(d=g[k])}g=-1===c.indexOf("frm_other_input")?f(a,!0):f(a,!1);-1!==c.indexOf("frm_time_select")&&(g=g.replace("-H","").replace("-m",""))}""===d&&(""===g&&(g=f(a,!0)),
g in b||(b[g]=r(a,"data-reqmsg")));return b}function p(a){var b="";jQuery('input[name="file'+a+'"], input[name="file'+a+'[]"], input[name^="item_meta['+a+']"]').each(function(){""===b&&(b=this.value)});return b}function q(a,b,c){var d=a.value,g=f(a,!0);if(g in b)return b;var k=0===g.indexOf("conf_");if(""!==d||k){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,e=r(a,"data-invmsg");""!==
d&&!1===n.test(d)?(b[g]=e,k&&(b[g.replace("conf_","")]="")):k&&(a=a.name.replace("conf_",""),c.filter('[name="'+a+'"]').val()!==d&&(b[g]="",b[g.replace("conf_","")]=""))}return b}function w(a,b){var c=a.value;""!==c&&!1!==isNaN(c/1)&&(c=f(a,!0),c in b||(b[c]=r(a,"data-invmsg")));return b}function x(a,b){var c=a.value,d=r(a,"pattern");if(""!==d&&""!==c){var g=f(a,!0);g in b||(d=new RegExp("^"+d+"$","i"),!1===d.test(c)&&(b[g]=r(a,"data-invmsg")))}return b}function r(a,b){var c=a.getAttribute(b);null===
c&&(c="");return c}function D(a,b){"undefined"===typeof b&&jQuery(a).find('input[name="frm_action"]').val();var c=jQuery(a).find(".frm_form_field");c.addClass("frm_doing_ajax");jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(a).serialize()+"&action=frm_entries_"+b+"&nonce="+frm_js.nonce,success:function(b){var d={content:"",errors:{},pass:!1};null===b&&(b=d);b=b.replace(/^\s+|\s+$/g,"");b=0===b.indexOf("{")?jQuery.parseJSON(b):d;if("undefined"!==typeof b.redirect)jQuery(document).trigger("frmBeforeFormRedirect",
[a,b]),window.location=b.redirect;else if(""!==b.content){u(jQuery(a));-1!=frm_js.offset&&frmFrontForm.scrollMsg(jQuery(a),!1);var k=jQuery(a).find('input[name="form_id"]').val();b.content=b.content.replace(/ frm_pro_form /g," frm_pro_form frm_no_hide ");d=jQuery(a).closest(".frm_forms");var e=jQuery(".frm_end_ajax_"+k);e.length&&(d.nextUntil(".frm_end_ajax_"+k).remove(),e.remove());d.replaceWith(b.content);d=b;if(history.pushState&&"undefined"!==typeof d.page){var f=d.page;e=encodeURI("frm_page");
f=encodeURI(f);for(var l=document.location.search.substr(1).split("&"),h=l.length,m;h--;)if(m=l[h].split("="),m[0]==e){m[1]=f;l[h]=m.join("=");break}0>h&&(l[l.length]=[e,f].join("="));e=l.join("&");window.history.pushState({html:d.html},"","?"+e)}"function"===typeof frmThemeOverride_frmAfterSubmit&&(k=jQuery('input[name="frm_page_order_'+k+'"]').val(),d=jQuery(b.content).find('input[name="form_id"]').val(),frmThemeOverride_frmAfterSubmit(d,k,b.content,a));jQuery(b.content).find(".frm_message").length?
jQuery(document).trigger("frmFormComplete",[a,b]):jQuery(document).trigger("frmPageChanged",[a,b])}else if(Object.keys(b.errors).length){u(jQuery(a),"enable");d=!0;y();e=!1;for(k in b.errors)f=jQuery(a).find("#frm_field_"+k+"_container"),f.length&&(f.is(":visible")||(l=f.closest(".frm_toggle_container"),l.length&&(l=l.prev(),l.hasClass("frm_trigger")||(l=l.prev(".frm_trigger")),l.click())),f.is(":visible")&&(v(f,k,b.errors),d=!1,f=jQuery(a).find("#frm_field_"+k+"_container .frm-g-recaptcha, #frm_field_"+
k+"_container .g-recaptcha"),f.length&&(e=!0,f=f.data("rid"),jQuery().grecaptcha&&(f?grecaptcha.reset(f):grecaptcha.reset()))));jQuery(document).trigger("frmFormErrors",[a,b]);c.removeClass("frm_doing_ajax");z(a);!0!==e&&A(a,!1);d?a.submit():jQuery(a).prepend(b.error_message)}else E(a),A(a,!0),a.submit()},error:function(){jQuery(a).find('input[type="submit"], input[type="button"]').removeAttr("disabled");a.submit()}})}function v(a,b,c){a.length&&a.is(":visible")&&(a.addClass("frm_blank_field"),"function"===
typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(b,c):a.append('<div class="frm_error">'+c[b]+"</div>"),jQuery(document).trigger("frmAddFieldError",[a,b,c]))}function y(){jQuery(".form-field").removeClass("frm_blank_field has-error");jQuery(".form-field .frm_error").replaceWith("");jQuery(".frm_error_style").remove()}function z(a){var b=jQuery(a).find(".frm_blank_field:first");b.length&&frmFrontForm.scrollMsg(b,a,!0)}function B(a){a.hasClass("frm_loading_form")||(a.addClass("frm_loading_form"),
a.trigger("frmStartFormLoading"));a.find('input[type="submit"], input[type="button"], button[type="submit"]').attr("disabled","disabled")}function u(a,b,c){0<c||(a.removeClass("frm_loading_form"),a.trigger("frmEndFormLoading"),"enable"===b&&a.find('input[type="submit"], input[type="button"], button[type="submit"]').removeAttr("disabled"))}function E(a){var b=document.getElementById("frm_loading");null!==b&&(a=jQuery(a).find("input[type=file]").val(),"undefined"!==typeof a&&""!==a&&setTimeout(function(){jQuery(b).fadeIn("slow")},
2E3))}function A(a,b){var c=jQuery(a).find(".frm-g-recaptcha, .g-recaptcha");c.length&&(!b||1>jQuery(a).find(".frm_next_page").length||1>jQuery(a).find(".frm_next_page").val())&&c.closest(".frm_form_field").replaceWith('<input type="hidden" name="recaptcha_checked" value="'+frm_js.nonce+'">')}function F(){C(jQuery(this),"clear")}function G(){C(jQuery(this),"replace")}function C(a,b){var c=a.data("frmval").replace(/(\n|\r\n)/g,"\r");if(""===c||"undefined"===typeof c)return!1;var d=a.val().replace(/(\n|\r\n)/g,
"\r");"replace"==b?""===d&&a.addClass("frm_default").val(c):d==c&&a.removeClass("frm_default").val("")}function H(){var a=jQuery(this),b=a.data("eid"),c=a.data("fid");a.append('<span class="spinner" style="display:inline"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:b,form_id:c,nonce:frm_js.nonce},success:function(b){a.replaceWith(b)}});return!1}function I(){var a=jQuery(this).data("frmconfirm");return confirm(a)}function J(){var a=jQuery(this).data("frmtoggle");
jQuery(a).is(":visible")?jQuery(a).slideUp("fast"):jQuery(a).slideDown("fast");return!1}function K(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0;d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1})}function L(){"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function M(){Array.prototype.filter||(Array.prototype.filter=function(a,
b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=[],e=0;e<d;e++)if(e in c){var h=c[e];a.call(b,h,e,c)&&f.push(h)}return f})}function N(){Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b})}var t="",m=[];return{init:function(){jQuery(document).off("submit.formidable",".frm-show-form");jQuery(document).on("submit.formidable",".frm-show-form",frmFrontForm.submitForm);
jQuery(".frm-show-form input[onblur], .frm-show-form textarea[onblur]").each(function(){""===jQuery(this).val()&&jQuery(this).blur()});jQuery(document).on("focus",".frm_toggle_default",F);jQuery(document).on("blur",".frm_toggle_default",G);jQuery(".frm_toggle_default").blur();jQuery(document.getElementById("frm_resend_email")).click(H);jQuery(document).on("change",'.frm-show-form input[name^="item_meta"], .frm-show-form select[name^="item_meta"], .frm-show-form textarea[name^="item_meta"]',frmFrontForm.fieldValueChanged);
jQuery(document).on("change keyup",".frm-show-form .frm_inside_container input, .frm-show-form .frm_inside_container select, .frm-show-form .frm_inside_container textarea",e);jQuery(document).on("click","a[data-frmconfirm]",I);jQuery("a[data-frmtoggle]").click(J);K();L();M();N()},getFieldId:function(a,b){return f(a,b)},renderRecaptcha:function(a){var b=a.getAttribute("data-size"),c={sitekey:a.getAttribute("data-sitekey"),size:b,theme:a.getAttribute("data-theme")};if("invisible"===b){var d=jQuery(a).closest("form").find('input[name="form_id"]').val();
c.callback=function(a){frmFrontForm.afterRecaptcha(a,d)}}b=grecaptcha.render(a.id,c);a.setAttribute("data-rid",b)},afterSingleRecaptcha:function(a){a=jQuery(".frm-show-form .g-recaptcha").closest("form")[0];frmFrontForm.submitFormNow(a)},afterRecaptcha:function(a,b){var c=jQuery("#frm_form_"+b+"_container form")[0];frmFrontForm.submitFormNow(c)},submitForm:function(a){frmFrontForm.submitFormManual(a,this)},submitFormManual:function(a,b){if("undefined"!==typeof frmProForm&&frmProForm.goingToPreviousPage(b))var c=
!1;else{var d=jQuery(b).find('.frm-g-recaptcha[data-size="invisible"], .g-recaptcha[data-size="invisible"]');d.length?(c=d.data("rid"),c=0===grecaptcha.getResponse(c).length?d:!1):c=!1}d=b.className.trim().split(/\s+/gi);d&&1>c.length&&!(-1<d.indexOf("frm_pro_form"))||jQuery("body").hasClass("wp-admin")||(a.preventDefault(),c.length?(d=c.data("rid"),grecaptcha.reset(d),grecaptcha.execute(d)):(c=frmFrontForm.validateFormSubmit(b),0===Object.keys(c).length&&(B(jQuery(b)),frmFrontForm.submitFormNow(b,
d))))},submitFormNow:function(a){-1<a.className.trim().split(/\s+/gi).indexOf("frm_ajax_submit")?1>jQuery(a).find('input[type="file"]').filter(function(){return!!this.value}).length?(t=jQuery(a).find('input[name="frm_action"]').val(),frmFrontForm.checkFormErrors(a,t)):a.submit():a.submit()},validateFormSubmit:function(a){"undefined"!==typeof tinyMCE&&jQuery(a).find(".wp-editor-wrap").length&&tinyMCE.triggerSave();m=[];var b=jQuery(a).hasClass("frm_js_validate");b&&"undefined"!==typeof frmProForm&&
(frmProForm.savingDraft(a)||frmProForm.goingToPreviousPage(a))&&(b=!1);b&&(frmFrontForm.getAjaxFormErrors(a),Object.keys(m).length&&frmFrontForm.addAjaxFormErrors(a));return m},getAjaxFormErrors:function(a){var b=[],c=jQuery(a).find(".frm_required_field:visible input, .frm_required_field:visible select, .frm_required_field:visible textarea").filter(":not(.frm_optional)");if(c.length)for(var d=0,e=c.length;d<e;d++)b=h(c[d],b);c=jQuery(a).find("input[type=email]").filter(":visible");d=jQuery(a).find("input,select,textarea");
if(d.length){e=0;for(var f=d.length;e<f;e++){var n=d[e];""!==n.value&&"hidden"!==n.type&&("number"===n.type?b=w(n,b):"email"===n.type?b=q(n,b,c):null!==n.pattern&&(b=x(n,b)))}}c=jQuery(a).find(".frm-g-recaptcha");c.length&&(d=c.data("rid"),0===grecaptcha.getResponse(d).length&&(c=c.closest(".frm_form_field").attr("id").replace("frm_field_","").replace("_container",""),b[c]=""));m=b;if("function"===typeof frmThemeOverride_jsErrors&&(t=jQuery(a).find('input[name="frm_action"]').val(),a=frmThemeOverride_jsErrors(t,
a),Object.keys(a).length))for(var p in a)m[p]=a[p];return m},addAjaxFormErrors:function(a){y();for(var b in m){var c=jQuery(a).find("#frm_field_"+b+"_container");c.length?v(c,b,m):delete m[b]}z(a)},checkFormErrors:function(a,b){D(a,b)},checkRequiredField:function(a,b){return h(a,b)},showSubmitLoading:function(a){B(a)},removeSubmitLoading:function(a,b,c){u(a,b,c)},scrollToID:function(a){a=jQuery(document.getElementById(a));frmFrontForm.scrollMsg(a,!1)},scrollMsg:function(a,b,c){if("undefined"===typeof b){if(a=
jQuery(document.getElementById("frm_form_"+a+"_container")),1>a.length)return}else a="string"===typeof a?jQuery(b).find("#frm_field_"+a+"_container"):a;if(a=a.offset().top){a-=frm_js.offset;b=jQuery("html").css("margin-top");var d=jQuery("body").css("margin-top");if(b||d)a=a-parseInt(b)-parseInt(d);if(a&&window.innerHeight&&(b=document.documentElement.scrollTop||document.body.scrollTop,a>b+window.innerHeight||a<b))return"undefined"===typeof c?jQuery(window).scrollTop(a):jQuery("html,body").animate({scrollTop:a},
500),!1}},fieldValueChanged:function(a){var b=frmFrontForm.getFieldId(this,!1);if(b&&"undefined"!==typeof b&&(!a.frmTriggered||a.frmTriggered!=b)&&(jQuery(document).trigger("frmFieldChanged",[this,b,a]),!0!==a.selfTriggered&&jQuery(this).closest("form").hasClass("frm_js_validate"))){a=[];b=jQuery(this).closest(".frm_form_field");b.hasClass("frm_required_field")&&!jQuery(this).hasClass("frm_optional")&&(a=h(this,a));if(1>a.length)if("email"===this.type){var c=jQuery(this).closest("form").find("input[type=email]");
a=q(this,a,c)}else"number"===this.type?a=w(this,a):null!==this.pattern&&(a=x(this,a));b.removeClass("frm_blank_field has-error");b.find(".frm_error").remove();if(0<Object.keys(a).length)for(var d in a)v(b,d,a)}},savingDraft:function(a){console.warn("DEPRECATED: function frmFrontForm.savingDraft in v3.0 use frmProForm.savingDraft");if("undefined"!==typeof frmProForm)return frmProForm.savingDraft(a)},goingToPreviousPage:function(a){console.warn("DEPRECATED: function frmFrontForm.goingToPreviousPage in v3.0 use frmProForm.goingToPreviousPage");
if("undefined"!==typeof frmProForm)return frmProForm.goingToPreviousPage(a)},hideOrShowFields:function(a,b){console.warn("DEPRECATED: function frmFrontForm.hideOrShowFields in v3.0 use frmProForm.hideOrShowFields");"undefined"!==typeof frmProForm&&frmProForm.hideOrShowFields()},hidePreviouslyHiddenFields:function(){console.warn("DEPRECATED: function frmFrontForm.hidePreviouslyHiddenFields in v3.0 use frmProForm.hidePreviouslyHiddenFields");"undefined"!==typeof frmProForm&&frmProForm.hidePreviouslyHiddenFields()},
checkDependentDynamicFields:function(a){console.warn("DEPRECATED: function frmFrontForm.checkDependentDynamicFields in v3.0 use frmProForm.checkDependentDynamicFields");"undefined"!==typeof frmProForm&&frmProForm.checkDependentDynamicFields(a)},checkDependentLookupFields:function(a){console.warn("DEPRECATED: function frmFrontForm.checkDependentLookupFields in v3.0 use frmProForm.checkDependentLookupFields");"undefined"!==typeof frmProForm&&frmProForm.checkDependentLookupFields(a)},loadGoogle:function(){console.warn("DEPRECATED: function frmFrontForm.loadGoogle in v3.0 use frmProForm.loadGoogle");
frmProForm.loadGoogle()},removeUsedTimes:function(a,b){console.warn("DEPRECATED: function frmFrontForm.removeUsedTimes in v3.0 use frmProForm.removeUsedTimes");"undefined"!==typeof frmProForm&&frmProForm.removeUsedTimes()},escapeHtml:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},invisible:function(a){jQuery(a).css("visibility","hidden")},visible:function(a){jQuery(a).css("visibility","visible")}}}
var frmFrontForm=frmFrontFormJS();jQuery(document).ready(function(e){frmFrontForm.init()});function frmRecaptcha(){for(var e=jQuery(".frm-g-recaptcha"),f=0,h=e.length;f<h;f++)frmFrontForm.renderRecaptcha(e[f])}function frmAfterRecaptcha(e){frmFrontForm.afterSingleRecaptcha(e)}
function frmUpdateField(e,f,h,p,q){jQuery(document.getElementById("frm_update_field_"+e+"_"+f+"_"+q)).html('<span class="frm-loading-img"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_update_field_ajax",entry_id:e,field_id:f,value:h,nonce:frm_js.nonce},success:function(){""===p.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById("frm_update_field_"+e+"_"+f+"_"+q)).fadeOut("slow"):jQuery(document.getElementById("frm_update_field_"+e+"_"+f+"_"+q)).replaceWith(p)}})}
function frmDeleteEntry(e,f){console.warn("DEPRECATED: function frmDeleteEntry in v2.0.13 use frmFrontForm.deleteEntry");jQuery(document.getElementById("frm_delete_"+e)).replaceWith('<span class="frm-loading-img" id="frm_delete_'+e+'"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:e,nonce:frm_js.nonce},success:function(h){"success"===h.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById(f+e)).fadeOut("slow"):jQuery(document.getElementById("frm_delete_"+
e)).replaceWith(h)}})}function frmOnSubmit(e){console.warn("DEPRECATED: function frmOnSubmit in v2.0 use frmFrontForm.submitForm");frmFrontForm.submitForm(e,this)}
function frm_resend_email(e,f){console.warn("DEPRECATED: function frm_resend_email in v2.0");var h=jQuery(document.getElementById("frm_resend_email"));h.append('<span class="spinner" style="display:inline"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:e,form_id:f,nonce:frm_js.nonce},success:function(e){h.replaceWith(e)}})};
function frmProFormJS(){function Y(a){var b=jQuery(this),c=b.attr("type");"submit"!==c&&a.preventDefault();a=b.parents("form:first");var d="",e="",f=this.name;"frm_prev_page"===f||-1!==this.className.indexOf("frm_prev_page")?d=jQuery(a).find(".frm_next_page").attr("id").replace("frm_next_p_",""):"frm_save_draft"===f||-1!==this.className.indexOf("frm_save_draft")?e=1:-1!==this.className.indexOf("frm_page_skip")?(b=b.data("page"),f=jQuery(a).find('input[name="form_id"]').val(),f=jQuery(a).find('input[name="frm_page_order_'+
f+'"]'),jQuery(a).append('<input name="frm_last_page" type="hidden" value="'+f.val()+'" />'),""===b?f.remove():f.val(b)):-1!==this.className.indexOf("frm_page_back")&&(d=b.data("page"));jQuery(".frm_next_page").val(d);jQuery(".frm_saving_draft").val(e);"submit"!==c&&a.trigger("submit")}function Na(){jQuery(this).parent().children(".frm_toggle_container").slideToggle("fast");var a=jQuery(this).children(".frm_arrow_icon");-1!==this.className.indexOf("active")?(this.className=this.className.replace(" active",
""),a.attr("aria-expanded","false")):(this.className+=" active",a.attr("aria-expanded","true"))}function Oa(){if(-1===this.className.indexOf("frm_custom_date")&&"undefined"!==typeof __frmDatepicker){var a=__frmDatepicker,b=this.id,c=b.split("-");c=A(this.name)?'input[id^="'+c[0]+'"]':'input[id^="'+c.join("-")+'"]';jQuery.datepicker.setDefaults(jQuery.datepicker.regional[""]);for(var d=0,e=0;e<a.length;e++)if(a[e].triggerID=="#"+b||a[e].triggerID==c){d=e;break}""!==a[d].options.defaultDate&&(a[d].options.defaultDate=
new Date(a[d].options.defaultDate));jQuery(this).datepicker(jQuery.extend(jQuery.datepicker.regional[a[d].locale],a[d].options))}}function Z(a){if("undefined"!==typeof __frmDropzone)for(var b=__frmDropzone,c=0;c<b.length;c++)Pa(c,a)}function Pa(a,b){var c=__frmDropzone,d="#"+c[a].htmlID+"_dropzone",e=c[a].fieldName;"undefined"!==typeof b&&-1!==d.indexOf("-0_dropzone")&&(d=d.replace("-0_dropzone","-"+b+"_dropzone"),e=e.replace("[0]","["+b+"]"),delete c[a].mockFiles);var f=jQuery(d);if(!(1>f.length||
f.hasClass("dz-clickable"))){var h=c[a].maxFiles;if("undefined"!==typeof c[a].mockFiles){var g=c[a].mockFiles.length;0<h&&(h-=g)}var k=f.closest("form");g="#"+k.attr("id");"#undefined"==g&&(g="form."+k.attr("class").replace(" ","."));f.dropzone({url:frm_js.ajax_url,addRemoveLinks:!0,paramName:f.attr("id").replace("_dropzone",""),maxFilesize:c[a].maxFilesize,maxFiles:h,uploadMultiple:c[a].uploadMultiple,hiddenInputContainer:g,dictDefaultMessage:c[a].defaultMessage,dictFallbackMessage:c[a].fallbackMessage,
dictFallbackText:c[a].fallbackText,dictFileTooBig:c[a].fileTooBig,dictInvalidFileType:c[a].invalidFileType,dictResponseError:c[a].responseError,dictCancelUpload:c[a].cancel,dictCancelUploadConfirmation:c[a].cancelConfirm,dictRemoveFile:c[a].remove,dictMaxFilesExceeded:c[a].maxFilesExceeded,resizeMethod:"contain",resizeWidth:c[a].resizeWidth,resizeHeight:c[a].resizeHeight,fallback:function(){jQuery(this.element).closest("form").removeClass("frm_ajax_submit")},init:function(){this.on("sending",function(b,
e,f){e=d;var h=jQuery(e).closest("form");if(1>h.length)e=!1;else if(h=jQuery(h).find(".frm_required_field:visible input, .frm_required_field:visible select, .frm_required_field:visible textarea, "+e),1>h.length)e=!0;else{for(var g=!0,k=0,l=h.length;k<l&&"#"+h[k].id!==e;k++)if(!(-1<h[k].className.indexOf("frm_optional")||null!==h[k].getAttribute("data-frmfile")))if(1>frmFrontForm.checkRequiredField(h[k],[]).length){g=!0;break}else g=!1;e=g}if(e){e=""!==document.getElementById("frm_verify_"+c[a].parentFormID).value||
window._phantom||window.callPhantom||window.__phantomas||window.Buffer||window.emit||window.spawn?!0:!1;if(e)return this.removeFile(b),alert(frm_js.file_spam),!1;f.append("action","frm_submit_dropzone");f.append("field_id",c[a].fieldID);f.append("form_id",c[a].formID);f.append("nonce",frm_js.nonce)}else return this.removeFile(b),alert(frm_js.empty_fields),!1});this.on("success",function(b,d){for(var f=jQuery.parseJSON(d),h=0;h<f.length;h++)!0!==c[a].uploadMultiple&&jQuery('input[name="'+e+'"]').val(f[h])});
this.on("successmultiple",function(b,d){for(var f=jQuery.parseJSON(d),h=0;h<b.length;h++)jQuery(b[h].previewElement).append(aa(c[a],f[h],e))});this.on("complete",function(b){u--;frmFrontForm.removeSubmitLoading(k,"enable",u);if("undefined"!==typeof b.mediaID){c[a].uploadMultiple&&jQuery(b.previewElement).append(aa(c[a],b.mediaID,e));for(var d=b.previewElement.querySelectorAll("[data-dz-name]"),f=0,h=d.length;f<h;f++)d[f].innerHTML='<a href="'+b.url+'" target="_blank" rel="noopener">'+b.name+"</a>"}});
this.on("addedfile",function(){u++;frmFrontForm.showSubmitLoading(k)});this.on("removedfile",function(b){!1!==b.accepted&&!0!==c[a].uploadMultiple&&jQuery('input[name="'+e+'"]').val("");!1!==b.accepted&&"undefined"!==typeof b.mediaID&&(jQuery(b.previewElement).remove(),this.options.maxFiles=c[a].maxFiles-this.files.length)});if("undefined"!==typeof c[a].mockFiles)for(var b=0;b<c[a].mockFiles.length;b++){var f={name:c[a].mockFiles[b].name,size:c[a].mockFiles[b].size,url:c[a].mockFiles[b].file_url,
mediaID:c[a].mockFiles[b].id};this.emit("addedfile",f);this.emit("thumbnail",f,c[a].mockFiles[b].url);this.emit("complete",f);this.files.push(f)}}})}}function aa(a,b,c){return'<input name="'+c+'[]" type="hidden" value="'+b+'" data-frmfile="'+a.fieldID+'" />'}function Qa(){var a=jQuery(this).data("frm-remove");Ra(jQuery(this).parent(".dz-preview"));a=jQuery('input[name="'+a+'"]');a.length&&a.val("")}function Sa(){var a=this.type,b=!1,c=!1;if("select-one"===a)c=!0,"frm_other_trigger"===this.options[this.selectedIndex].className&&
(b=!0);else if("select-multiple"===a){c=!0;var d=this.options;b=!1;for(var e=0;e<d.length;e++)if("frm_other_trigger"===d[e].className&&d[e].selected){b=!0;break}}c?(a=jQuery(this).parent().children(".frm_other_input"),a.length&&(b?a[0].className=a[0].className.replace("frm_pos_none",""):(1>a[0].className.indexOf("frm_pos_none")&&(a[0].className+=" frm_pos_none"),a[0].value=""))):"radio"===a?jQuery(this).is(":checked")&&(jQuery(this).closest(".frm_radio").children(".frm_other_input").removeClass("frm_pos_none"),
jQuery(this).closest(".frm_radio").siblings().children(".frm_other_input").addClass("frm_pos_none").val("")):"checkbox"===a&&(this.checked?jQuery(this).closest(".frm_checkbox").children(".frm_other_input").removeClass("frm_pos_none"):jQuery(this).closest(".frm_checkbox").children(".frm_other_input").addClass("frm_pos_none").val(""))}function Ta(a,b,c,d){a=jQuery(b);ba(c,a);d="undefined"!==typeof d.originalEvent||-1<d.currentTarget.className.indexOf("frm_chzn")?"value changed":"other";ca(c,a,d);J(c,
a)}function ba(a,b){if(!("undefined"===typeof __FRMRULES||"undefined"===typeof __FRMRULES[a]||1>__FRMRULES[a].dependents.length||null===b||"undefined"===typeof b))for(var c=__FRMRULES[a],d=w(b[0].name),e=0,f=c.dependents.length;e<f;e++)x(c.dependents[e],d)}function x(a,b){var c=K(a);if(!(!1===c||1>c.conditions.length)){var d=[];if(c.isRepeating)if(""!==b.repeatingSection){var e="frm_field_"+c.fieldId+"-";e+=b.repeatingSection+"-"+b.repeatRow+"_container";d.push(e)}else if(d=B(c),null!==document.getElementById("frm_field_"+
d+"_container")){d=[];e=document.querySelectorAll(".frm_field_"+c.fieldId+"_container");for(var f=0,h=e.length;f<h;f++)d.push(e[f].id)}else{d=[];f=B(c);e="frm_field_"+c.fieldId+"-"+f+"-";f=document.querySelectorAll('[name="item_meta['+f+'][row_ids][]"]');h=0;for(var g=f.length;h<g;h++)""!==f[h].value&&d.push(e+f[h].value+"_container");1>d.length&&d.push(e+"0_container")}else d.push("frm_field_"+c.fieldId+"_container");e=d.length;for(f=0;f<e;f++)c.containerId=d[f],da(c,d[f]),ea(c)}}function B(a){var b=
"";"0"!==a.inEmbedForm?b=a.inEmbedForm:"0"!==a.inSection&&(b=a.inSection);return b}function da(a,b){if(a.isRepeating){var c=b.replace("_container","").split("-");a.repeatRow=c[2]}else a.repeatRow=""}function ea(a){for(var b=[],c=a.conditions.length,d=0;d<c;d++)b.push(Ua(a.conditions[d],a));c=Va="any"==a.anyAll?-1<b.indexOf(!0)?a.showHide:fa(a.showHide):-1<b.indexOf(!1)?fa(a.showHide):a.showHide;b=null!==document.getElementById(a.containerId);"show"==c?"data"==a.fieldType&&a.hasOwnProperty("dataLogic")?
(a={fieldId:a.fieldId,fieldKey:a.fieldKey,formId:a.formId,containerId:a.containerId,repeatRow:a.repeatRow,dataLogic:{actualValue:a.dataLogic.actualValue,fieldId:a.dataLogic.fieldId},children:"",inputType:a.inputType},"data"==a.inputType?Wa(a,b):b&&Xa(a)):!1!==v(a.containerId,a.formId)&&(y(a.containerId,a.formId),b?(b=ha(a.containerId),ia(b,"divider"==a.fieldType||"form"==a.fieldType,a.formId),jQuery("#"+a.containerId).show()):(b=ja(a),ia(b,"divider"==a.fieldType||"form"==a.fieldType,a.formId))):L(a,
b)}function K(a){return"undefined"===typeof __FRMRULES||"undefined"===typeof __FRMRULES[a]?!1:__FRMRULES[a]}function Ua(a,b){var c=K(a.fieldId),d=ka(c,b);"data"==b.fieldType&&"data"==c.fieldType?(c=""===a.value?""===d||1==d.length&&""===d[0]?!1:!0:M(a.operator,a.value,d),b.dataLogic=a,b.dataLogic.actualValue=d,d=c):d=M(a.operator,a.value,d);return d}function ka(a,b){if("radio"==a.inputType||"checkbox"==a.inputType||"toggle"==a.inputType){var c=la(a,b);c=document.querySelectorAll('input[name^="'+c+
'"]');c="checkbox"===a.inputType||"toggle"===a.inputType?C(c):N(c)}else if(!0===a.isMultiSelect){c=la(a,b);var d=document.querySelectorAll('[name^="'+c+'"]');1==d.length&&"hidden"!=d[0].type?(c=jQuery('[name^="'+c+'"]').val(),null===c&&(c="")):c=C(d)}else if(c="field_"+a.fieldKey,a.isRepeating&&(c+="-"+b.repeatRow),d=document.getElementById(c),null===d){d="";if("time"==a.fieldType){var e=document.getElementById(c+"_H");null!==e&&(d=document.getElementById(c+"_m"),d=e.value+":"+d.value,c=document.getElementById(c+
"_A"),":"==d?d="":null!==c&&(d+=" "+c.value))}c=d}else c=d.value;"undefined"===typeof c?c="":"string"===typeof c&&(c=c.trim());return c}function la(a,b){return a.isRepeating?"item_meta["+("0"!==b.inEmbedForm?b.inEmbedForm:b.inSection)+"]["+b.repeatRow+"]["+a.fieldId+"]":"item_meta["+a.fieldId+"]"}function C(a){for(var b=[],c=0,d=a.length;c<d;c++)"hidden"==a[c].type||a[c].checked?b.push(a[c].value):"undefined"!==typeof a[c].dataset.off&&b.push(a[c].dataset.off);0===b.length&&(b=!1);return b}function M(a,
b,c){b=Ya(b);c=Za(b,c);return"string"===typeof b&&"-1"!=b.indexOf("&quot;")&&M(a,b.replace("&quot;",'"'),c)?!0:{"==":function(a,b){return a===b},"!=":function(a,b){return a!==b},"<":function(a,b){return a>b},">":function(a,b){return a<b},LIKE:function(a,b){if(!b)return!1;a=O(a);b=ma(a,b);return-1!=b.indexOf(a)},"not LIKE":function(a,b){if(!b)return!0;a=O(a);b=ma(a,b);return-1==b.indexOf(a)}}[a](b,c)}function Ya(a){-1!==String(a).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)?a=parseFloat(a):"string"===
typeof a&&(a=a.trim());return a}function Za(a,b){if("undefined"===typeof b||null===b||!1===b)b="";jQuery.isArray(b)&&-1<jQuery.inArray(String(a),b)&&(b=a);"number"===typeof a&&"string"===typeof b&&(b=parseFloat(b));"string"===typeof b&&(b=b.trim());return b}function ma(a,b){b=O(b);if(jQuery.isArray(b))for(var c=0,d=b.length;c<d;c++){var e=b[c].toLowerCase();if(-1<e.indexOf(a)){b=a;break}}return b}function O(a){"string"===typeof a?a=a.toLowerCase():"number"===typeof a&&(a=a.toString());return a}function fa(a){return"show"==
a?"hide":"show"}function ha(a){return document.getElementById(a).querySelectorAll('select[name^="item_meta"], textarea[name^="item_meta"], input[name^="item_meta"]')}function ja(a){if("divider"==a.fieldType){var b=[];"divider"==a.fieldType&&(b=document.querySelectorAll('[data-sectionid="'+a.fieldId+'"]'));a=b}else"form"==a.fieldType?a=document.querySelectorAll('[id^="field_'+a.fieldKey+'-"]'):(a=a.isRepeating?"item_meta["+B(a)+"]["+a.repeatRow+"]["+a.fieldId+"]":"item_meta["+a.fieldId+"]",a=document.querySelectorAll('[name^="'+
a+'"]'));return a}function ia(a,b,c){if(a.length)for(var d,e=["checkbox","radio"],f=0;f<a.length;f++)if(!(0<f&&"undefined"!==typeof d&&d.name==a[f].name&&-1<e.indexOf(d.type)||b&&D(a[f],c))){d=a[f];var h=jQuery(d),g=h.data("frmval");if("undefined"!==typeof g){if("checkbox"==d.type||"radio"==d.type)na(d.name,g);else if(-1<d.name.indexOf("[]")){var k=document.getElementsByName(d.name);if(jQuery.isArray(g))for(var l=0,m=g.length;l<m;l++)l in k&&(k[l].value=g[l]);else null!==k[0]&&(k[0].value=g)}else g.constructor===
Object&&(k=d.getAttribute("name").split("[").slice(-1)[0],null!==k&&(k=k.replace("]",""),g=g[k],"undefined"==typeof g&&(g=""))),d.value=g;"SELECT"==d.tagName&&E(d);r(h)}d=a[f];h=frmFrontForm.getFieldId(d,!1);h=P(h);!1!==h&&"lookup"!=h.fieldType&&oa(h,d,"value changed");d=a[f];if(h="undefined"!==typeof __FRMCALC){h=d.type;g=!1;if("text"==h||"hidden"==h||"number"==h)g=!0;h=g}if(h){h=__FRMCALC;g=d.name;k=d.id.replace("field_","");if(A(g))for(g=k.split("-"),k="",l=0;l<g.length-1;l++)k=""===k?g[l]:k+"-"+
g[l];g=k;k=null;A(d.name)&&(k="hidden"!=d.type?jQuery(d).closest(".frm_form_field"):jQuery(d));d=k;void 0!==h.calc[g]&&Q(h,g,[],d)}d=a[f]}}function D(a,b){var c=frmFrontForm.getFieldId(a,!0);return v("frm_field_"+c+"_container",b)}function L(a,b){if(!v(a.containerId,a.formId))if(pa(a.containerId,a.formId),b){jQuery("#"+a.containerId).hide();var c=ha(a.containerId);F(c)}else c=ja(a),F(c)}function F(a){if(!(1>a.length)){for(var b,c=!0,d=0,e=a.length;d<e;d++)-1<a[d].className.indexOf("frm_dnc")||(0<
d&&b.name!=a[d].name&&!0===c&&r(jQuery(b)),c=!0,"radio"==a[d].type||"checkbox"==a[d].type?a[d].checked=!1:"SELECT"==a[d].tagName?(0===a[d].selectedIndex?c=!1:a[d].selectedIndex=0,b=a[d].id.replace(/[^\w]/g,"_"),null!==document.getElementById(b+"_chosen")&&jQuery(a[d]).trigger("chosen:updated")):a[d].value=""),b=a[d];!0===c&&r(jQuery(b))}}function v(a,b){var c=!1;-1<z(b).indexOf(a)&&(c=!0);return c}function pa(a,b){var c=z(b);if(!(-1<c.indexOf(a))){c.push(a);c=JSON.stringify(c);var d=document.getElementById("frm_hide_fields_"+
b);null!==d&&(d.value=c)}}function z(a){var b=[];a=document.getElementById("frm_hide_fields_"+a);return null===a?b:b=(b=a.value)?JSON.parse(b):[]}function na(a,b){for(var c=document.getElementsByName(a),d=0,e=c.length;d<e;d++)if("hidden"==c[d].type)jQuery.isArray(b)&&null!==b[d]?c[d].value=b[d]:c[d].value=b;else if(c[d].value==b||jQuery.isArray(b)&&-1<b.indexOf(c[d].value))if(c[d].checked=!0,"radio"==c[d].type)break}function y(a,b){var c=z(b),d=c.indexOf(a);-1<d&&(c.splice(d,1),c=JSON.stringify(c),
document.getElementById("frm_hide_fields_"+b).value=c)}function ca(a,b,c){if(!("undefined"===typeof __FRMLOOKUP||"undefined"===typeof __FRMLOOKUP[a]||1>__FRMLOOKUP[a].dependents.length||null===b||"undefined"===typeof b)){a=__FRMLOOKUP[a];b=w(b[0].name);for(var d=0,e=a.dependents.length;d<e;d++)R(a.dependents[d],b,c)}}function R(a,b,c){a=P(a);if(!(!1===a||1>a.parents.length))if("lookup"==a.fieldType){if(""!==b.repeatRow){c=[];var d="frm_field_"+a.fieldId+"-";d+=b.repeatingSection+"-"+b.repeatRow+"_container";
b=document.getElementById(d);null!==b&&c.push(b);b=c}else b=[],a.isRepeating?b=document.querySelectorAll(".frm_field_"+a.fieldId+"_container"):(c=document.getElementById("frm_field_"+a.fieldId+"_container"),null!==c&&b.push(c));c=0;for(d=b.length;c<d;c++){da(a,b[c].id);var e=a,f=b[c];e.parentVals=qa(e);if("select"==e.inputType)$a(e,f);else if("radio"==e.inputType||"checkbox"==e.inputType)if(!1===e.parentVals){var h=f.getElementsByTagName("input");ra(e,f);F(h)}else ab(e,f)}}else if("value changed"===
c)for(c="field_"+a.fieldKey,c=a.isRepeating?""!==b.repeatingSection?'[id="'+c+"-"+b.repeatRow+'"]':'[id^="'+c+'-"]':'[id="'+c+'"]',b=document.querySelectorAll(c),c=0,d=b.length;c<d;c++)e=a,f=w(b[c].name),e.repeatRow=""!==f.repeatRow?f.repeatRow:"",oa(a,b[c])}function P(a){return"undefined"===typeof __FRMLOOKUP||"undefined"===typeof __FRMLOOKUP[a]?!1:__FRMLOOKUP[a]}function oa(a,b){a.parentVals=qa(a);var c=b.id;c in n&&0<n[c].length?sa(a,b):(sa(a,b),ta(a,b))}function qa(a){for(var b=[],c=a.parents,
d,e=0,f=c.length;e<f;e++){d=P(c[e]);d=ka(d,a);if(""===d||!1===d){b=!1;break}b[e]=d}return b}function N(a){for(var b=!1,c=a.length,d=0;d<c;d++)if("hidden"==a[d].type||a[d].checked){b=a[d].value;break}return b}function $a(a,b){var c=b.getElementsByTagName("SELECT")[0];if(null!==c){var d=c.value;!1===a.parentVals?(c.options.length=1,c.value="",E(c),""!==d&&r(jQuery(c),a.fieldKey)):(bb(c),S(a.formId),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_replace_lookup_field_options",parent_fields:a.parents,
parent_vals:a.parentVals,field_id:a.fieldId,nonce:frm_js.nonce},success:function(d){var f=c.value;d=JSON.parse(d);for(var e=c.options.length;0<e;e--)c.remove(e);var g=d.length;for(e=0;e<g;e++)c.options[e+1]=new Option(d[e],d[e],!1,!1);c.value=f;""===c.value&&(d=c.getAttribute("data-frmval"),null!==d&&(c.value=d));!1===a.isReadOnly&&(c.disabled=!1);c.className=c.className.replace(" frm_loading_lookup","");E(c);c.value!=f&&r(jQuery(c),a.fieldKey);ua(jQuery(b));T(a.formId)}}))}}function E(a){-1<a.className.indexOf("frm_chzn")&&
jQuery().chosen&&jQuery(a).trigger("chosen:updated")}function bb(a){a.className+=" frm_loading_lookup";a.disabled=!0;E(a)}function S(a){u++;1===u&&(a=va(a),null!==a&&frmFrontForm.showSubmitLoading(jQuery(a)))}function T(a){u--;0>=u&&(a=va(a),null!==a&&frmFrontForm.removeSubmitLoading(jQuery(a),"enable",u))}function va(a){return document.querySelector("#frm_form_"+a+"_container form")}function ab(a,b){var c=b.getElementsByClassName("frm_opt_container")[0],d=c.getElementsByTagName("input");cb(b,c);
var e="";e="radio"==a.inputType?N(d):C(d);var f=jQuery(d[0]).data("frmval");S(a.formId);jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_replace_cb_radio_lookup_options",parent_fields:a.parents,parent_vals:a.parentVals,field_id:a.fieldId,container_field_id:B(a),row_index:a.repeatRow,current_value:e,default_value:f,nonce:frm_js.nonce},success:function(e){c.innerHTML=e;e=b.getElementsByClassName("frm-loading-img")[0];null!==e&&void 0!==e&&e.parentNode.removeChild(e);c.style.display="block";
1==d.length&&""===d[0].value?ra(a,b):(!1!==v(b.id,a.formId)&&(e=K(a.fieldId),!1===e||1>e.conditions.length?(y(b.id,a.formId),jQuery("#"+b.id).show()):(e.containerId=b.id,e.repeatRow=a.repeatRow,ea(e))),void 0!==f&&(!1!==("radio"==a.inputType?N(d):C(d))||1>d.length||na(d[0].name,f)));r(jQuery(d[0]),a.fieldKey);ua(jQuery(b));T(a.formId)}})}function ua(a){a.trigger("frmLookupOptionsLoaded")}function ra(a,b){v(b.id,a.formId)||(jQuery("#"+b.id).hide(),pa(b.id,a.formId))}function ta(a,b){if(D(b,a.formId))U(b.id);
else if(!1===a.parentVals){var c=b.getAttribute("data-frmval");null===c&&(c="");wa(a,b,c);U(b.id)}else S(a.formId),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_get_lookup_text_value",parent_fields:a.parents,parent_vals:a.parentVals,field_id:a.fieldId,nonce:frm_js.nonce},success:function(c){D(b,a.formId)||b.value==c||wa(a.fieldKey,b,c);T(a.formId);U(b.id)}})}function sa(a,b){var c=b.id;c in n?2<=n[c].length&&(n[c]=n[c].slice(0,1)):n[c]=[];n[c].push({childFieldArgs:a,childInput:b})}
function U(a){n[a].shift();a in n&&0<n[a].length&&ta(n[a][0].childFieldArgs,n[a][0].childInput)}function wa(a,b,c){c=c.replace(/&amp;/g,"&");b.value=c;r(jQuery(b),a)}function Wa(a,b){if(b){var c=jQuery("#"+a.containerId);xa(c)}jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_fields_ajax_get_data",entry_id:a.dataLogic.actualValue,current_field:a.fieldId,hide_id:a.containerId,on_current_page:b,nonce:frm_js.nonce},success:function(d){if(b){var e=c.find(".frm_opt_container, .frm_data_container");
e.html(d);var f=e.children("input"),h=f.val();ya(e);""===d||""===h?L(a,!0):za(a,c,f,!0)}else e="field_"+a.fieldKey,""!==a.repeatRow&&(e+="-"+a.repeatRow),e=document.getElementById(e),e.value=d,v(a.containerId,a.formId)&&y(a.containerId,a.formId),r(jQuery(e))}})}function Xa(a,b){var c=jQuery("#"+a.containerId),d=c.find('select[name^="item_meta"], input[name^="item_meta"]'),e=Aa(d);d=d.data("frmval");var f=c.closest("form").find('input[name="id"]').val();xa(c);jQuery.ajax({type:"POST",url:frm_js.ajax_url,
data:{action:"frm_fields_ajax_data_options",trigger_field_id:a.dataLogic.fieldId,entry_id:a.dataLogic.actualValue,field_id:a.fieldId,default_value:d,container_id:a.containerId,editing_entry:f,prev_val:e,nonce:frm_js.nonce},success:function(b){var d=c.find(".frm_opt_container, .frm_data_container");d.html(b);var f=d.find('select, input[type="checkbox"], input[type="radio"]');ya(d);""===b||1>f.length?L(a,!0):(b=Aa(f),za(a,c,f,e!==b))}})}function xa(a){var b=a.html();-1<b.indexOf("frm-loading-img")||
(a.html(b+'<span class="frm-loading-img"></span>'),a.find(".frm_opt_container, .frm_data_container").hide())}function cb(a,b){if(!(-1<a.innerHTML.indexOf("frm-loading-img"))){b.style.display="none";var c=document.createElement("span");c.setAttribute("class","frm-loading-img");a.insertBefore(c,b.nextSibling)}}function ya(a){a.parent().children(".frm-loading-img").remove();a.show()}function Aa(a){var b=[],c="";a.each(function(){c=this.value;"radio"===this.type||"checkbox"===this.type?!0===this.checked&&
b.push(c):""!==c&&b.push(c)});0===b.length&&(b="");return b}function za(a,b,c,d){v(a.containerId,a.formId)&&(y(a.containerId,a.formId),b.show());c.hasClass("frm_chzn")&&V();!0===d&&r(c)}function J(a,b){if("undefined"!==typeof __FRMCALC){var c=__FRMCALC,d=c.fields[a];if("undefined"!==typeof d){d=d.total;for(var e=d.length,f=[],h=db(c.calc[d[0]]),g=0;g<e;g++){var k=h;if("undefined"!==typeof k.start||"undefined"!==typeof k.end){var l=jQuery('input[type=hidden][name*="['+c.calc[d[g]].field_id+']"]');
if(l.length)if(l.closest(".frm_form_field").length)l=!0;else{var m=l.index(),p=!0,q=!0;"undefined"!==typeof k.start&&(p=jQuery(k.start).index()<m);"undefined"!==typeof k.end&&(q=jQuery(k.end).index()>m);(k=p&&q)||(k=0<l.closest(".do-calculation").length);l=k}else l=!0}else l=!0;l&&(l=c.calc[d[g]],q=b.attr("name"),k=!1,m=l.field_id,p=z(l.form_id),1>p.length||("0"===l.inSection&&"0"===l.inEmbedForm?k=G(m,p):(q=w(q),G(m,p)?k=!0:Ba(m,q,p)?k=!0:"0"!==l.inSection&&"0"!==l.inEmbedForm?k=Ba(l.inSection,q,
p):"0"!==l.inSection?k=G(l.inSection,p):"0"!==l.inEmbedForm&&(k=G(l.inEmbedForm,p)))),l=k,l=!1===l);l&&Q(c,d[g],f,b)}}}}function db(a){var b=a.form_id,c=document.getElementById("frm_form_"+b+"_container");if(null===c&&a.in_section){b=document.getElementById("frm_field_"+a.in_section+"_container");if(null===b)return[];c=Ca(b,function(a){return"FORM"===a.tagName});b=c.elements.namedItem("form_id").value}a=c.getElementsByClassName("frm_next_page");b=document.getElementById("frm_page_order_"+b);c=[];
0<a.length&&(c.start=a[0]);null!==b&&(c.end=b);return c}function Ca(a,b){return a&&(b(a)?a:Ca(a.parentNode,b))}function G(a,b){return-1<b.indexOf("frm_field_"+a+"_container")}function Ba(a,b,c){var d=!1;b.repeatingSection&&(a="frm_field_"+a+"-"+b.repeatingSection,a+="-"+b.repeatRow+"_container",d=-1<c.indexOf(a));return d}function Q(a,b,c,d){var e=a.calc[b],f=e.calc,h=jQuery(document.getElementById("field_"+b)),g={triggerField:d,inSection:!1,thisFieldCall:'input[id^="field_'+b+'-"]'};1>h.length&&
"undefined"!==typeof d&&(g.inSection=!0,g.thisFieldId=eb(a.fieldsWithCalc,b),h=Da(g));if(!(null===h||1>h.length)){f=fb(e,f,a,c,g);if("text"!=e.calc_type){a=e.calc_dec;-1<f.indexOf(").toFixed(")&&(c=f.split(").toFixed("),Ea(c[1])&&(a=c[1],f=f.replace(").toFixed("+a,"")));f=gb(f);f=parseFloat(eval(f));if("undefined"===typeof f||isNaN(f))f=0;Ea(a)&&(f=f.toFixed(a))}h.val()!==f&&(h.val(f),null!==d&&"undefined"!==typeof d&&h.attr("name")==d.attr("name")||r(h,b))}}function fb(a,b,c,d,e){for(var f=0,h=a.fields.length;f<
h;f++){var g={triggerField:e.triggerField,thisFieldId:a.fields[f],inSection:e.inSection,valKey:e.inSection+""+a.fields[f],thisField:c.fields[a.fields[f]],thisFieldCall:"input"+c.fieldKeys[a.fields[f]]},k=c;"checkbox"==g.thisField.type||"radio"==g.thisField.type||"scale"==g.thisField.type||"star"==g.thisField.type?g.thisFieldCall=g.thisFieldCall+":checked,"+g.thisFieldCall+"[type=hidden]":"select"==g.thisField.type||"time"==g.thisField.type?g.thisFieldCall="select"+k.fieldKeys[g.thisFieldId]+" option:selected,"+
g.thisFieldCall+"[type=hidden]":"textarea"==g.thisField.type&&(g.thisFieldCall=g.thisFieldCall+",textarea"+k.fieldKeys[g.thisFieldId]);if("text"==a.calc_type)g.valKey="text"+g.valKey,d=hb(g,d),"undefined"===typeof d[g.valKey]&&(d[g.valKey]="");else{g.valKey="num"+g.valKey;d=ib(g,c,d);if("undefined"===typeof d[g.valKey]||isNaN(d[g.valKey]))d[g.valKey]=0;"date"==g.thisField.type&&0===d[g.valKey]&&(b="")}k="["+g.thisFieldId+"]";k=k.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");b=b.replace(new RegExp(k,
"g"),d[g.valKey])}return b}function gb(a){var b=a.charAt(a.length-1);if("+"===b||"-"===b)a=a.substr(0,a.length-1);return a}function A(a){return 3<=a.split("][").length}function ib(a,b,c){if("undefined"!==typeof c[a.valKey]&&0!==c[a.valKey])return c;c[a.valKey]=0;var d=Fa(a);if(!1===d)return c;d.each(function(){var d=Ga(a.thisField,this);if("date"==a.thisField.type){var f=b.date;var h=0;if(d)if("undefined"===typeof jQuery.datepicker){h="-";-1<f.indexOf("/")&&(h="/");f=f.split(h);d=d.split(h);var g;
var k=h=g="";for(var l=0;l<f.length;l++)if("y"==f[l])k=((new Date).getFullYear()+15).toString().substr(2,2),k=d[l]>k?"19"+d[l]:"20"+d[l];else if("yy"==f[l])k=d[l];else if("m"==f[l]||"mm"==f[l])h=d[l],2>h.length&&(h="0"+h);else if("d"==f[l]||"dd"==f[l])g=d[l],2>g.length&&(g="0"+g);h=Date.parse(k+"-"+h+"-"+g)}else h=jQuery.datepicker.parseDate(f,d);f=h;null!==f&&(c[a.valKey]=Math.ceil(f/864E5))}else{f=d;""!==f&&0!==f&&(f=f.trim(),f=parseFloat(f.replace(/,/g,"").match(/-?[\d\.]+$/)));if("undefined"===
typeof f||isNaN(f)||""===f)f=0;c[a.valKey]+=f}});return c}function hb(a,b){if("undefined"!==typeof b[a.valKey]&&""!==b[a.valKey])return b;b[a.valKey]="";var c=Fa(a);if(!1===c)return b;var d=0,e="";c.each(function(){var c=Ga(a.thisField,this);c=c.trim();var h=d,g="";0<h&&("time"==a.thisField.type?1==h?g=":":2==h&&(g=" "):g=", ",h=jQuery(document).triggerHandler("frmCalSeparation",[a.thisField,h]),"undefined"!==typeof h&&(g=h));e=g;""!==c&&(b[a.valKey]+=e+c,d++)});return b}function Fa(a){a=!1===a.inSection?
jQuery(a.thisFieldCall):Da(a);if(null===a||"undefined"===typeof a||1>a.length)a=!1;return a}function Da(a){if("undefined"===typeof a.triggerField)return null;var b=a.triggerField.closest(".frm_repeat_sec, .frm_repeat_inline, .frm_repeat_grid");var c=w(a.triggerField.attr("name"));var d=a.thisFieldCall.replace("[id=","[id^=").replace(/-"]/g,"-"+c.repeatRow+'"]');if(b.length||""!==c.repeatRow){if(c=b.length?b.find(d):jQuery(d),null===c||"undefined"===typeof c||1>c.length)c=null,d.indexOf(":checked")?
1>b.find(d.replace(":checked","")).length&&(c=jQuery(a.thisFieldCall)):c=jQuery(a.thisFieldCall)}else c=jQuery(a.thisFieldCall);return c}function Ga(a,b){var c=!1;if("hidden"==b.type)""!==W(b)&&(c=!0);else if("select"==a.type){var d=b.className;d&&-1<d.indexOf("frm_other_trigger")&&(c=!0)}else("checkbox"==a.type||"radio"==a.type)&&-1<b.id.indexOf("-other_")&&0>b.id.indexOf("-otext")&&(c=!0);c?(c=0,"select"==a.type?"hidden"==b.type?(d=!1,2<b.name.split("[").length&&(d=!0),d||(c=W(b))):c=jQuery(b).closest(".frm_other_container").find(".frm_other_input").val():
"checkbox"!=a.type&&"radio"!=a.type||"hidden"==b.type||(c=W(b))):c="checkbox"===b.type||"radio"===b.type?b.checked?b.value:b.dataset.off:jQuery(b).val();"undefined"===typeof c&&(c="");return c}function W(a){var b="";a=document.getElementById(a.id+"-otext");null!==a&&""!==a.value&&(b=a.value);return b}function jb(a,b){X("pageLoad");var c=jQuery(b).find('input[name="id"]');c.length&&(c=document.getElementById("frm_edit_"+c.val()),null!==c&&-1<c.className.indexOf("frm_cancel_edit")&&Ha(jQuery(c)));H()}
function kb(){H()}function lb(a,b){google.load("visualization","1.0",{packages:[b],callback:function(){var b=new google.visualization.DataTable,d=!1;-1!==jQuery.inArray("id",a.options.fields)&&(d=!0,b.addColumn("number",frm_js.id));for(var e=a.fields.length,f,h=0,g=e;h<g;h++){var k=a.fields[h];f=Ia(k);b.addColumn(f,k.name)}h=!1;a.options.edit_link&&(h=!0,b.addColumn("string",a.options.edit_link));g=!1;a.options.delete_link&&(g=!0,b.addColumn("string",a.options.delete_link));if(null!==a.entries){var l=
a.entries.length;b.addRows(l);for(var m=0,p=0;p<l;p++){k=0;var q=a.entries[p];d&&(b.setCell(m,k,q.id),k++);for(var n=0,r=e;n<r;n++){var t=a.fields[n];f=Ia(t);t=q.metas[t.id];"number"!=f||null!==t&&""!==t?"boolean"==f&&(t=null===t||"false"==t||!1===t?!1:!0):t=0;b.setCell(m,k,t);k++}h&&("undefined"!==typeof q.editLink?b.setCell(m,k,'<a href="'+q.editLink+'">'+a.options.edit_link+"</a>"):b.setCell(m,k,""),k++);g&&("undefined"!==typeof q.deleteLink?b.setCell(m,k,'<a href="'+q.deleteLink+'" class="frm_delete_link" data-frmconfirm="'+
a.options.confirm+'">'+a.options.delete_link+"</a>"):b.setCell(m,k,""));m++}}else for(b.addRows(1),h=k=0,g=e;h<g;h++)0<k?b.setCell(0,k,""):b.setCell(0,k,a.options.no_entries),k++;(new google.visualization.Table(document.getElementById("frm_google_table_"+a.options.form_id))).draw(b,a.graphOpts)}})}function mb(a){google.load("visualization","1.0",{packages:[a["package"]],callback:function(){new google.visualization.DataTable;var b=google.visualization.arrayToDataTable(a.data);var c=document.getElementById("chart_"+
a.graph_id);if(null!==c){var d=a.type.charAt(0).toUpperCase()+a.type.slice(1);"Histogram"!==d&&"Table"!==d&&(d+="Chart");c=new google.visualization[d](c);c.draw(b,a.options);jQuery(document).trigger("frmDrawChart",[c,"chart_"+a.graph_id,b])}}})}function Ia(a){var b="string";if("number"==a.type)b="number";else if("checkbox"==a.type||"select"==a.type){var c=a.options.length;"select"==a.type&&""===a.options[0]&&(c="post_status"==a.field_options.post_field?3:c-1);1==c&&(b="boolean")}return b}function nb(){var a=
jQuery(this).data("key"),b=jQuery(this).data("parent"),c="frm_section_"+b+"-"+a,d=jQuery(document.getElementById(c)),e=d.find("input, select, textarea"),f=jQuery(this).closest("form").find('input[name="form_id"]').val();d.fadeOut("slow",function(){d.remove();e.each(function(){var c=frmFrontForm.getFieldId(this,!1);"file"!=this.type&&J(c,jQuery(this));y("frm_field_"+c+"-"+b+"-"+a+"_container",f)});jQuery("#frm_field_"+b+"_container .frm_add_form_row.frm_button").removeClass("frm_hide_add_button");
"function"==typeof frmThemeOverride_frmRemoveRow&&frmThemeOverride_frmRemoveRow(c,d);jQuery(document).trigger("frmAfterRemoveRow")});return!1}function ob(){if(!0===I)return!1;I=!0;var a=jQuery(this).data("parent"),b=0,c=jQuery(".frm_repeat_"+a).length;if(0<c){var d=jQuery(".frm_repeat_"+a+":last").attr("id").replace("frm_section_"+a+"-","");b=-1<d.indexOf("i")?1:1+parseInt(d)}jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_add_form_row",field_id:a,i:b,numberOfSections:c,
nonce:frm_js.nonce},success:function(c){if(c.html){var d=c.html,e=jQuery(d).addClass("frm-fade-in");jQuery(".frm_repeat_"+a+":last").after(e);c.is_repeat_limit_reached&&jQuery("#frm_field_"+a+"_container .frm_add_form_row.frm_button").addClass("frm_hide_add_button");var g=["other"],k,l,m={repeatingSection:a.toString(),repeatRow:b.toString()};jQuery(d).find("input, select, textarea").each(function(){if("file"!=this.type){if(""===this.name)return!0;k=this.name.replace("item_meta[","").split("]")[2].replace("[",
"");-1==jQuery.inArray(k,g)&&!1!==this.id&&""!==this.id&&(l=jQuery("#"+this.id),g.push(k),x(k,m),R(k,m,"value changed"),ba(k,l),ca(k,l,"value changed"),J(k,l))}});jQuery(d).find(".frm_html_container").each(function(){var a=this.id.replace("frm_field_","").split("-")[0];g.push(a);x(a,m)});Z(m.repeatRow);Ja();V()}"function"==typeof frmThemeOverride_frmAddRow&&frmThemeOverride_frmAddRow(a,c);jQuery(document).trigger("frmAfterAddRow");I=!1},error:function(){I=!1}});return!1}function pb(){var a=jQuery(this),
b=a.data("entryid"),c=a.data("prefix"),d=a.data("pageid"),e=a.data("formid"),f=a.data("cancel"),h=a.data("fields"),g=a.data("excludefields"),k=jQuery(document.getElementById(c+b)),l=k.html();k.html('<span class="frm-loading-img" id="'+c+b+'"></span><div class="frm_orig_content" style="display:none">'+l+"</div>");jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:{action:"frm_entries_edit_entry_ajax",post_id:d,entry_id:b,id:e,nonce:frm_js.nonce,fields:h,exclude_fields:g},success:function(d){k.children(".frm-loading-img").replaceWith(d);
a.removeClass("frm_inplace_edit").addClass("frm_cancel_edit");a.html(f);X("editInPlace");if("function"===typeof frmFrontForm.fieldValueChanged)jQuery(document).on("change",'.frm-show-form input[name^="item_meta"], .frm-show-form select[name^="item_meta"], .frm-show-form textarea[name^="item_meta"]',frmFrontForm.fieldValueChanged);H(c+b)}});return!1}function qb(){var a=jQuery(this),b=a.data("prefix"),c=a.data("entryid");b=jQuery(document.getElementById(b+c));b.children(".frm_forms").replaceWith("");
b.children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content");Ha(a)}function Ha(a){var b=a.data("edit");a.removeClass("frm_cancel_edit").addClass("frm_inplace_edit");a.html(b)}function rb(){var a=jQuery(this),b=a.data("deleteconfirm");if(confirm(b)){var c=a.data("entryid"),d=a.data("prefix");a.replaceWith('<span class="frm-loading-img" id="frm_delete_'+c+'"></span>');jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:c,nonce:frm_js.nonce},success:function(a){if("success"==
a.replace(/^\s+|\s+$/g,"")){var b=jQuery(document.getElementById(d+c));b.fadeOut("slow",function(){b.remove()});jQuery(document.getElementById("frm_delete_"+c)).fadeOut("slow");jQuery(document).trigger("frmEntryDeleted",[c])}else jQuery(document.getElementById("frm_delete_"+c)).replaceWith(a)}})}return!1}function sb(){for(var a=__frmUniqueTimes,b=0;b<a.length;b++)a[b].dateID==this.id&&frmProForm.removeUsedTimes(this,a[b].timeID)}function H(a){"undefined"!==typeof __frmHideFields&&frmProForm.hidePreviouslyHiddenFields();
jQuery(document).on("focusin",".frm_date",Oa);if("undefined"!==typeof __frmUniqueTimes)for(var b=__frmUniqueTimes,c=0;c<b.length;c++)jQuery(document.getElementById(b[c].dateID)).change(sb);if("undefined"!==typeof __frmMasks)for(b=__frmMasks,c=0;c<b.length;c++)jQuery(b[c].trigger).attr("data-frmmask",b[c].mask);Ja();V(a);"undefined"!==typeof __frmDepDynamicFields&&frmProForm.checkDependentDynamicFields(__frmDepDynamicFields);"undefined"!==typeof __frmDepLookupFields&&frmProForm.checkDependentLookupFields(__frmDepLookupFields);
if("undefined"!==typeof __FRMCALC){(a=__FRMCALC.triggers)&&jQuery(a.join()).trigger({type:"change",selfTriggered:!0});a=__FRMCALC.calc;b=[];for(var d in a)1>a[d].fields.length&&(c=document.getElementById("field_"+d),null===c||D(c,a[d].form_id)||Q(__FRMCALC,d,b))}Z()}function V(a){if(jQuery().chosen){var b={allow_single_deselect:!0,no_results_text:frm_js.no_results,search_contains:!0};"undefined"!==typeof __frmChosen&&(b="{"+__frmChosen+"}");"undefined"!==typeof a?jQuery("#"+a).find(".frm_chzn").chosen(b):
jQuery(".frm_chzn").chosen(b)}}function tb(){Ka(this)}function ub(){Ka(this.previousSibling)}function Ka(a){var b=a.parentElement;b.className+=" frm-star-hovered";b=b.childNodes;a=parseInt(a.value);for(var c=!1,d=0;d<b.length;d++)"undefined"!==typeof b[d].className&&-1<b[d].className.indexOf("star-rating")?c?b[d].className+=" star-rating-hover":b[d].classList.remove("star-rating-hover","star-rating-on"):c=parseInt(b[d].value)<=a}function vb(){var a=this.previousSibling.parentElement;a.classList.remove("frm-star-hovered");
var b=a.childNodes;a=jQuery(a).find("input:checked").attr("id");for(var c="",d=b.length-1;0<d;d--)"undefined"!==typeof b[d].className&&-1<b[d].className.indexOf("star-rating")&&(b[d].classList.remove("star-rating-hover"),""===c&&"undefined"!==typeof a&&b[d].getAttribute("for")==a&&(c=" star-rating-on"),""!==c&&(b[d].className+=c))}function Ja(){jQuery(document).on("input","input[data-frmrange]",function(){var a=jQuery(this);a.next(".frm_range_value").html(a.val())})}function wb(){var a,b=jQuery(".frm_inline_form .frm_fields_container");
if(b.length)for(a=0;a<b.length;a++){var c=jQuery(b[a]);var d=c.children(".frm_form_field");if(12>=d.length&&!La(d.last())){var e=d;var f=Math.max(2,Math.ceil(12/(e.length+1)));for(d=0;d<e.length;d++)La(jQuery(e[d]))||jQuery(e[d]).addClass("frm"+f);c.children(".frm_submit").addClass("frm"+f)}}}function La(a){var b,c=a.attr("class"),d="frm_full half third fourth fifth sixth seventh eighth".split(" ");for(b=1;12>=b;b++){if(a.hasClass("frm"+b))return!0;if(12===b)for(var e=0;e<d.length;e++){if(c.includes(d[e]))return!0;
if(e===d.length-1)return!1}}}function X(a){"undefined"!==typeof __frmHideOrShowFields?frmProForm.hideOrShowFields(__frmHideOrShowFields,a):Ma()}function Ma(){jQuery(".frm_pro_form").fadeIn("slow")}function r(a,b){"undefined"===typeof b&&(b="dependent");1<a.length&&(a=a.eq(0));a.trigger({type:"change",selfTriggered:!0,frmTriggered:b})}function w(a){var b={repeatingSection:"",repeatRow:""};"undefined"!==typeof a&&A(a)&&(a=a.split("]["),b.repeatingSection=a[0].replace("item_meta[",""),b.repeatRow=a[1]);
return b}function Ra(a){a.fadeOut("slow",function(){a.remove()})}function eb(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null}function Ea(a){return!jQuery.isArray(a)&&0<=a-parseFloat(a)+1}var I=!1,Va="",u=0,n={};return{init:function(){jQuery(document).on("frmFormComplete",jb);jQuery(document).on("frmPageChanged",kb);jQuery(document).on("click",".frm_trigger",Na);var a=jQuery(".frm_blank_field");a.length&&a.closest(".frm_toggle_container").prev(".frm_trigger").click();jQuery(document).on("click",
".frm_remove_link",Qa);jQuery(document).on("focusin","input[data-frmmask]",function(){jQuery(this).mask(jQuery(this).data("frmmask").toString(),{autoclear:!1})});jQuery(document).on("frmFieldChanged",Ta);jQuery(document).on("mouseenter click",".frm-star-group input",tb);jQuery(document).on("mouseenter",".frm-star-group .star-rating:not(.star-rating-readonly)",ub);jQuery(document).on("mouseleave",".frm-star-group .star-rating:not(.star-rating-readonly)",vb);jQuery(document).on("click",'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm_page_back, .frm_page_skip, .frm-show-form .frm_save_draft, .frm_prev_page, .frm_button_submit',
Y);jQuery(document).on("change",'.frm_other_container input[type="checkbox"], .frm_other_container input[type="radio"], .frm_other_container select',Sa);jQuery(document).on("click",".frm_remove_form_row",nb);jQuery(document).on("click",".frm_add_form_row",ob);jQuery(".frm_edit_link_container").on("click","a.frm_inplace_edit",pb);jQuery(".frm_edit_link_container").on("click","a.frm_cancel_edit",qb);jQuery(document).on("click",".frm_ajax_delete",rb);jQuery(".frm_month_heading, .frm_year_heading").click(function(){var a=
jQuery(this).children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s");a.hasClass("ui-icon-triangle-1-e")?(a.addClass("ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-e"),jQuery(this).next(".frm_toggle_container").fadeIn("slow")):(a.addClass("ui-icon-triangle-1-e").removeClass("ui-icon-triangle-1-s"),jQuery(this).next(".frm_toggle_container").hide())});wb();X("pageLoad");H()},savingDraft:function(a){var b=!1;a=jQuery(a).find(".frm_saving_draft");a.length&&(b=a.val());return b},goingToPreviousPage:function(a){var b=
!1,c=jQuery(a).find(".frm_next_page");if(c.length&&c.val()){var d=jQuery(a).find('input[name="form_id"]').val();a=jQuery(a).find('input[name="frm_page_order_'+d+'"]');a=a.length?a.val():0;if(!a||c.val()<a)b=!0}return b},hideOrShowFields:function(a,b){if("pageLoad"===b){var c=document.querySelectorAll('[id^="frm_hide_fields_"]');F(c)}c={repeatingSection:"",repeatRow:""};for(var d=0,e=a.length;d<e;d++)x(a[d],c),d==e-1&&Ma()},hidePreviouslyHiddenFields:function(){var a=[];for(var b=document.querySelectorAll('*[id^="frm_hide_fields_"]'),
c=b.length,d,e=0;e<c;e++)d=b[e].id.replace("frm_hide_fields_",""),a=a.concat(z(d));b=0;for(c=a.length;b<c;b++)d=document.getElementById(a[b]),null!==d&&(d.style.display="none")},checkDependentDynamicFields:function(a){for(var b={repeatingSection:"",repeatRow:""},c=0,d=a.length;c<d;c++)x(a[c],b)},checkDependentLookupFields:function(a){for(var b,c={repeatingSection:"",repeatRow:""},d=0,e=a.length;d<e;d++)b=a[d],R(b,c,"value changed")},loadGoogle:function(){if("undefined"!==typeof google&&google&&google.load)for(var a=
__FRMTABLES,b=Object.keys(a),c=0;c<b.length;c++)if("graphs"===b[c])for(var d=a[b[c]],e=0,f=d.length;e<f;e++)mb(d[e]);else for(d=a[b[c]],e=b[c],f=0;f<d.length;f++)lb(d[f],e);else setTimeout(frmFrontForm.loadGoogle,30)},removeUsedTimes:function(a,b){var c=jQuery(a).parents("form:first").find('input[name="id"]');jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_fields_ajax_time_options",time_field:b,date_field:a.id,entry_id:c?c.val():"",date:jQuery(a).val(),nonce:frm_js.nonce},
success:function(a){var c=jQuery(document.getElementById(b));c.find("option").removeAttr("disabled");if(0<a.length)for(var d=0,h=a.length;d<h;d++)c.find('option[value="'+a[d]+'"]').attr("disabled","disabled")}})}}}var frmProForm=frmProFormJS();jQuery(document).ready(function(Y){frmProForm.init()});
var _createClass=function(){function e(d,a){for(var b=0;b<a.length;b++){var c=a[b];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(d,c.key,c)}}return function(d,a,b){a&&e(d.prototype,a);b&&e(d,b);return d}}();function _possibleConstructorReturn(e,d){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?e:d}
function _inherits(e,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);e.prototype=Object.create(d&&d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(e,d):e.__proto__=d)}function _classCallCheck(e,d){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function");}
var Emitter=function(){function e(){_classCallCheck(this,e)}_createClass(e,[{key:"on",value:function(d,a){this._callbacks=this._callbacks||{};this._callbacks[d]||(this._callbacks[d]=[]);this._callbacks[d].push(a);return this}},{key:"emit",value:function(d){this._callbacks=this._callbacks||{};var a=this._callbacks[d];if(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];for(b=0;!(b>=a.length);)a[b++].apply(this,c)}return this}},{key:"off",value:function(d,a){if(!this._callbacks||
0===arguments.length)return this._callbacks={},this;var b=this._callbacks[d];if(!b)return this;if(1===arguments.length)return delete this._callbacks[d],this;for(var c=0;c<b.length;c++)if(b[c]===a){b.splice(c,1);break}return this}}]);return e}(),Dropzone=function(e){function d(a,b){_classCallCheck(this,d);var c=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this)),f=void 0,g=void 0;c.element=a;c.version=d.version;c.defaultOptions.previewTemplate=c.defaultOptions.previewTemplate.replace(/\n*/g,
"");c.clickableElements=[];c.listeners=[];c.files=[];"string"===typeof c.element&&(c.element=document.querySelector(c.element));if(!c.element||null==c.element.nodeType)throw Error("Invalid dropzone element.");if(c.element.dropzone)throw Error("Dropzone already attached.");d.instances.push(c);c.element.dropzone=c;var e=null!=(g=d.optionsForElement(c.element))?g:{};c.options=d.extend({},c.defaultOptions,e,null!=b?b:{});if(c.options.forceFallback||!d.isBrowserSupported()){var h;return h=c.options.fallback.call(c),
_possibleConstructorReturn(c,h)}null==c.options.url&&(c.options.url=c.element.getAttribute("action"));if(!c.options.url)throw Error("No URL provided.");if(c.options.acceptedFiles&&c.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(c.options.uploadMultiple&&c.options.chunking)throw Error("You cannot set both: uploadMultiple and chunking.");c.options.acceptedMimeTypes&&(c.options.acceptedFiles=c.options.acceptedMimeTypes,
delete c.options.acceptedMimeTypes);null!=c.options.renameFilename&&(c.options.renameFile=function(a){return c.options.renameFilename.call(c,a.name,a)});c.options.method=c.options.method.toUpperCase();(f=c.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f);!1!==c.options.previewsContainer&&(c.previewsContainer=c.options.previewsContainer?d.getElement(c.options.previewsContainer,"previewsContainer"):c.element);c.options.clickable&&(c.clickableElements=!0===c.options.clickable?[c.element]:
d.getElements(c.options.clickable,"clickable"));c.init();return c}_inherits(d,e);_createClass(d,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter;this.prototype.events="drop dragstart dragend dragenter dragover dragleave addedfile addedfiles removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded maxfilesreached queuecomplete".split(" ");
this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3E4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2E6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1E3,maxFiles:null,headers:null,
clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",
dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(a,b,c){if(c)return{dzuuid:c.file.upload.uuid,
dzchunkindex:c.index,dztotalfilesize:c.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:c.file.upload.totalChunkCount,dzchunkbyteoffset:c.index*this.options.chunkSize}},accept:function(a,b){return b()},chunksUploaded:function(a,b){b()},fallback:function(){var a=void 0;this.element.className+=" dz-browser-not-supported";for(var b=this.element.getElementsByTagName("div"),c=0;!(c>=b.length);){var f=b[c++];if(/(^| )dz-message($| )/.test(f.className)){a=f;f.className="dz-message";break}}a||
(a=d.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(a));if(a=a.getElementsByTagName("span")[0])null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage);return this.element.appendChild(this.getFallbackForm())},resize:function(a,b,c,f){var d={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},e=a.width/a.height;null==b&&null==c?(b=d.srcWidth,c=d.srcHeight):null==b?b=c*e:null==c&&(c=b/e);
b=Math.min(b,d.srcWidth);c=Math.min(c,d.srcHeight);var h=b/c;if(d.srcWidth>b||d.srcHeight>c)if("crop"===f)e>h?(d.srcHeight=a.height,d.srcWidth=d.srcHeight*h):(d.srcWidth=a.width,d.srcHeight=d.srcWidth/h);else if("contain"===f)e>h?c=b/e:b=c*e;else throw Error("Unknown resizeMethod '"+f+"'");d.srcX=(a.width-d.srcWidth)/2;d.srcY=(a.height-d.srcHeight)/2;d.trgWidth=b;d.trgHeight=c;return d},transformFile:function(a,b){return(this.options.resizeWidth||this.options.resizeHeight)&&a.type.match(/image.*/)?
this.resizeImage(a,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,b):b(a)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',
drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:function(a){},dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:function(a){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var b=
this;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){a.previewElement=d.createElement(this.options.previewTemplate.trim());a.previewTemplate=a.previewElement;this.previewsContainer.appendChild(a.previewElement);for(var c=a.previewElement.querySelectorAll("[data-dz-name]"),f=0;!(f>=c.length);){var g=c[f++];g.textContent=a.name}c=a.previewElement.querySelectorAll("[data-dz-size]");for(f=0;!(f>=c.length);)g=c[f++],g.innerHTML=this.filesize(a.size);
this.options.addRemoveLinks&&(a._removeLink=d.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink));g=function(c){c.preventDefault();c.stopPropagation();return a.status===d.UPLOADING?d.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(a)}):b.options.dictRemoveFileConfirmation?d.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(a)}):b.removeFile(a)};
c=a.previewElement.querySelectorAll("[data-dz-remove]");for(f=0;!(f>=c.length);)c[f++].addEventListener("click",g)}},removedfile:function(a){null!=a.previewElement&&null!=a.previewElement.parentNode&&a.previewElement.parentNode.removeChild(a.previewElement);return this._updateMaxFilesReachedClass()},thumbnail:function(a,b){if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");for(var c=a.previewElement.querySelectorAll("[data-dz-thumbnail]"),f=0;!(f>=c.length);){var d=c[f++];d.alt=
a.name;d.src=b}return setTimeout(function(){return a.previewElement.classList.add("dz-image-preview")},1)}},error:function(a,b){if(a.previewElement){a.previewElement.classList.add("dz-error");"String"!==typeof b&&b.error&&(b=b.error);for(var c=a.previewElement.querySelectorAll("[data-dz-errormessage]"),f=0;!(f>=c.length);)c[f++].textContent=b}},errormultiple:function(){},processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=
this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(a,b,c){if(a.previewElement)for(a=a.previewElement.querySelectorAll("[data-dz-uploadprogress]"),c=0;!(c>=a.length);){var f=a[c++];"PROGRESS"===f.nodeName?f.value=b:f.style.width=b+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(a){return this.emit("error",
a,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(a){a._removeLink&&(a._removeLink.textContent=this.options.dictRemoveFile);if(a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=!1}},{key:"extend",value:function(a){for(var b=arguments.length,
c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];for(b=0;!(b>=c.length);){f=c[b++];for(var d in f)a[d]=f[d]}return a}}]);_createClass(d,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(a){return a.accepted}).map(function(a){return a})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(a){return!a.accepted}).map(function(a){return a})}},{key:"getFilesWithStatus",value:function(a){return this.files.filter(function(b){return b.status===a}).map(function(a){return a})}},
{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(d.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(d.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(d.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(a){return a.status===d.UPLOADING||a.status===d.QUEUED}).map(function(a){return a})}},{key:"init",value:function(){var a=this;"form"===this.element.tagName&&this.element.setAttribute("enctype",
"multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(d.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&function h(){a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput);a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");(null===a.options.maxFiles||1<a.options.maxFiles)&&
a.hiddenFileInput.setAttribute("multiple","multiple");a.hiddenFileInput.className="dz-hidden-input";null!==a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles);null!==a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture);a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width=
"0";document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",function(){var b=a.hiddenFileInput.files;if(b.length)for(var c=0;!(c>=b.length);){var f=b[c++];a.addFile(f)}a.emit("addedfiles",b);return h()})}();this.URL=null!==window.URL?window.URL:window.webkitURL;for(var b=this.events,c=0;!(c>=b.length);){var f=b[c++];this.on(f,this.options[f])}this.on("uploadprogress",function(){return a.updateTotalUploadProgress()});
this.on("removedfile",function(){return a.updateTotalUploadProgress()});this.on("canceled",function(b){return a.emit("complete",b)});this.on("complete",function(b){if(0===a.getAddedFiles().length&&0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},0)});var g=function(a){a.stopPropagation();return a.preventDefault?a.preventDefault():a.returnValue=!1};this.listeners=[{element:this.element,events:{dragstart:function(b){return a.emit("dragstart",
b)},dragenter:function(b){g(b);return a.emit("dragenter",b)},dragover:function(b){var c=void 0;try{c=b.dataTransfer.effectAllowed}catch(m){}b.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy";g(b);return a.emit("dragover",b)},dragleave:function(b){return a.emit("dragleave",b)},drop:function(b){g(b);return a.drop(b)},dragend:function(b){return a.emit("dragend",b)}}}];this.clickableElements.forEach(function(b){return a.listeners.push({element:b,events:{click:function(c){(b!==a.element||
c.target===a.element||d.elementInside(c.target,a.element.querySelector(".dz-message")))&&a.hiddenFileInput.click();return!0}}})});this.enable();return this.options.init.call(this)}},{key:"destroy",value:function(){this.disable();this.removeAllFiles(!0);null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null);delete this.element.dropzone;return d.instances.splice(d.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",
value:function(){var a=0,b=0;if(this.getActiveFiles().length){var c=this.getActiveFiles();for(var f=0;!(f>=c.length);){var d=c[f++];a+=d.upload.bytesSent;b+=d.upload.total}c=100*a/b}else c=100;return this.emit("totaluploadprogress",c,b,a)}},{key:"_getParamName",value:function(a){return"function"===typeof this.options.paramName?this.options.paramName(a):""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")}},{key:"_renameFile",value:function(a){return"function"!==typeof this.options.renameFile?
a.name:this.options.renameFile(a)}},{key:"getFallbackForm",value:function(){var a,b=void 0;if(a=this.getExistingFallback())return a;a='<div class="dz-fallback">';this.options.dictFallbackText&&(a+="<p>"+this.options.dictFallbackText+"</p>");a+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';a=d.createElement(a);"FORM"!==this.element.tagName?(b=d.createElement('<form action="'+this.options.url+
'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),b.appendChild(a)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method));return null!=b?b:a}},{key:"getExistingFallback",value:function(){for(var a=["div","form"],b=0;b<a.length;b++){a:{var c=this.element.getElementsByTagName(a[b]);for(var f=0;!(f>=c.length);){var d=c[f++];if(/(^| )fallback($| )/.test(d.className)){c=d;break a}}c=void 0}if(c)return c}}},{key:"setupEventListeners",
value:function(){return this.listeners.map(function(a){var b=[],c;for(c in a.events)b.push(a.element.addEventListener(c,a.events[c],!1));return b})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(a){var b=[],c;for(c in a.events)b.push(a.element.removeEventListener(c,a.events[c],!1));return b})}},{key:"disable",value:function(){var a=this;this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")});this.removeEventListeners();this.disabled=
!0;return this.files.map(function(b){return a.cancelUpload(b)})}},{key:"enable",value:function(){delete this.disabled;this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")});return this.setupEventListeners()}},{key:"filesize",value:function(a){var b=0,c="b";if(0<a){for(var f=["tb","gb","mb","kb","b"],d=0;d<f.length;d++){var e=f[d];if(a>=Math.pow(this.options.filesizeBase,4-d)/10){b=a/Math.pow(this.options.filesizeBase,4-d);c=e;break}}b=Math.round(10*b)/10}return"<strong>"+
b+"</strong> "+this.options.dictFileSizeUnits[c]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(a){if(a.dataTransfer){this.emit("drop",a);var b=a.dataTransfer.files;this.emit("addedfiles",
b);b.length&&((a=a.dataTransfer.items)&&a.length&&null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):this.handleFiles(b))}}},{key:"paste",value:function(a){if(null!=__guard__(null!=a?a.clipboardData:void 0,function(a){return a.items})&&(this.emit("paste",a),a=a.clipboardData.items,a.length))return this._addFilesFromItems(a)}},{key:"handleFiles",value:function(a){for(var b=0;!(b>=a.length);){var c=a[b++];this.addFile(c)}}},{key:"_addFilesFromItems",value:function(a){for(var b=[],c=0;!(c>=a.length);){var d=
a[c++],g;null!=d.webkitGetAsEntry&&(g=d.webkitGetAsEntry())?g.isFile?b.push(this.addFile(d.getAsFile())):g.isDirectory?b.push(this._addFilesFromDirectory(g,g.name)):b.push(void 0):null!=d.getAsFile?null==d.kind||"file"===d.kind?b.push(this.addFile(d.getAsFile())):b.push(void 0):b.push(void 0)}return b}},{key:"_addFilesFromDirectory",value:function(a,b){var c=this,d=a.createReader(),g=function(a){return __guardMethod__(console,"log",function(b){return b.log(a)})};return function h(){return d.readEntries(function(a){if(0<
a.length){for(var d=0;!(d>=a.length);){var f=a[d++];f.isFile?f.file(function(a){if(!c.options.ignoreHiddenFiles||"."!==a.name.substring(0,1))return a.fullPath=b+"/"+a.name,c.addFile(a)}):f.isDirectory&&c._addFilesFromDirectory(f,b+"/"+f.name)}h()}return null},g)}()}},{key:"accept",value:function(a,b){return a.size>1048576*this.options.maxFilesize?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):d.isValidFile(a,
this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)}},{key:"addFile",value:function(a){var b=this;a.upload={uuid:d.uuidv4(),progress:0,total:a.size,bytesSent:0,filename:this._renameFile(a),chunked:this.options.chunking&&(this.options.forceChunking||a.size>
this.options.chunkSize),totalChunkCount:Math.ceil(a.size/this.options.chunkSize)};this.files.push(a);a.status=d.ADDED;this.emit("addedfile",a);this._enqueueThumbnail(a);return this.accept(a,function(c){c?(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&b.enqueueFile(a));return b._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(a){for(var b=0;!(b>=a.length);){var c=a[b++];this.enqueueFile(c)}return null}},{key:"enqueueFile",value:function(a){var b=this;
if(a.status===d.ADDED&&!0===a.accepted){if(a.status=d.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return b.processQueue()},0)}else throw Error("This file can't be queued because it has already been processed or was rejected.");}},{key:"_enqueueThumbnail",value:function(a){var b=this;if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(a),setTimeout(function(){return b._processThumbnailQueue()},
0)}},{key:"_processThumbnailQueue",value:function(){var a=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var b=this._thumbnailQueue.shift();return this.createThumbnail(b,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(c){a.emit("thumbnail",b,c);a._processingThumbnail=!1;return a._processThumbnailQueue()})}}},{key:"removeFile",value:function(a){a.status===d.UPLOADING&&this.cancelUpload(a);this.files=
without(this.files,a);this.emit("removedfile",a);if(0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(a){null==a&&(a=!1);for(var b=this.files.slice(),c=0;!(c>=b.length);){var f=b[c++];(f.status!==d.UPLOADING||a)&&this.removeFile(f)}return null}},{key:"resizeImage",value:function(a,b,c,f,g){var e=this;return this.createThumbnail(a,b,c,f,!1,function(b,c){if(null==c)return g(a);var f=e.options.resizeMimeType;null==f&&(f=a.type);var h=c.toDataURL(f,e.options.resizeQuality);
if("image/jpeg"===f||"image/jpg"===f)h=ExifRestore.restore(a.dataURL,h);return g(d.dataURItoBlob(h))})}},{key:"createThumbnail",value:function(a,b,c,d,g,e){var f=this,k=new FileReader;k.onload=function(){a.dataURL=k.result;if("image/svg+xml"===a.type)null!=e&&e(k.result);else return f.createThumbnailFromUrl(a,b,c,d,g,e)};return k.readAsDataURL(a)}},{key:"createThumbnailFromUrl",value:function(a,b,c,d,g,e,h){var f=this,l=document.createElement("img");h&&(l.crossOrigin=h);l.onload=function(){var h=
function(a){return a(1)};"undefined"!==typeof EXIF&&null!==EXIF&&g&&(h=function(a){return EXIF.getData(l,function(){return a(EXIF.getTag(this,"Orientation"))})});return h(function(g){a.width=l.width;a.height=l.height;var h=f.options.resize.call(f,a,b,c,d),k=document.createElement("canvas"),m=k.getContext("2d");k.width=h.trgWidth;k.height=h.trgHeight;4<g&&(k.width=h.trgHeight,k.height=h.trgWidth);switch(g){case 2:m.translate(k.width,0);m.scale(-1,1);break;case 3:m.translate(k.width,k.height);m.rotate(Math.PI);
break;case 4:m.translate(0,k.height);m.scale(1,-1);break;case 5:m.rotate(.5*Math.PI);m.scale(1,-1);break;case 6:m.rotate(.5*Math.PI);m.translate(0,-k.height);break;case 7:m.rotate(.5*Math.PI);m.translate(k.width,-k.height);m.scale(-1,1);break;case 8:m.rotate(-.5*Math.PI),m.translate(-k.width,0)}drawImageIOSFix(m,l,null!=h.srcX?h.srcX:0,null!=h.srcY?h.srcY:0,h.srcWidth,h.srcHeight,null!=h.trgX?h.trgX:0,null!=h.trgY?h.trgY:0,h.trgWidth,h.trgHeight);g=k.toDataURL("image/png");if(null!=e)return e(g,k)})};
null!=e&&(l.onerror=e);return l.src=a.dataURL}},{key:"processQueue",value:function(){var a=this.options.parallelUploads,b=this.getUploadingFiles().length,c=b;if(!(b>=a)){var d=this.getQueuedFiles();if(0<d.length){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,a-b));for(;c<a&&d.length;)this.processFile(d.shift()),c++}}}},{key:"processFile",value:function(a){return this.processFiles([a])}},{key:"processFiles",value:function(a){for(var b=0;!(b>=a.length);){var c=a[b++];c.processing=
!0;c.status=d.UPLOADING;this.emit("processing",c)}this.options.uploadMultiple&&this.emit("processingmultiple",a);return this.uploadFiles(a)}},{key:"_getFilesWithXhr",value:function(a){return this.files.filter(function(b){return b.xhr===a}).map(function(a){return a})}},{key:"cancelUpload",value:function(a){if(a.status===d.UPLOADING){for(var b=this._getFilesWithXhr(a.xhr),c=0;!(c>=b.length);)b[c++].status=d.CANCELED;"undefined"!==typeof a.xhr&&a.xhr.abort();for(a=0;!(a>=b.length);)c=b[a++],this.emit("canceled",
c);this.options.uploadMultiple&&this.emit("canceledmultiple",b)}else if(a.status===d.ADDED||a.status===d.QUEUED)a.status=d.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]);if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(a){if("function"===typeof a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.apply(this,c)}return a}},{key:"uploadFile",value:function(a){return this.uploadFiles([a])}},
{key:"uploadFiles",value:function(a){var b=this;this._transformFiles(a,function(c){if(a[0].upload.chunked){var f=a[0],g=c[0],e=0;f.upload.chunks=[];var h=function(){for(var c=0;void 0!==f.upload.chunks[c];)c++;if(!(c>=f.upload.totalChunkCount)){e++;var h=c*b.options.chunkSize,k=Math.min(h+b.options.chunkSize,f.size);h={name:b._getParamName(0),data:g.webkitSlice?g.webkitSlice(h,k):g.slice(h,k),filename:f.upload.filename,chunkIndex:c};f.upload.chunks[c]={file:f,index:c,dataBlock:h,status:d.UPLOADING,
progress:0,retries:0};b._uploadData(a,[h])}};f.upload.finishedChunkUpload=function(c){var g=!0;c.status=d.SUCCESS;c.dataBlock=null;for(c=0;c<f.upload.totalChunkCount;c++){if(void 0===f.upload.chunks[c])return h();f.upload.chunks[c].status!==d.SUCCESS&&(g=!1)}g&&b.options.chunksUploaded(f,function(){b._finished(a,"",null)})};if(b.options.parallelChunkUploads)for(c=0;c<f.upload.totalChunkCount;c++)h();else h()}else{for(var k=[],m=0;m<a.length;m++)k[m]={name:b._getParamName(m),data:c[m],filename:a[m].upload.filename};
b._uploadData(a,k)}})}},{key:"_getChunk",value:function(a,b){for(var c=0;c<a.upload.totalChunkCount;c++)if(void 0!==a.upload.chunks[c]&&a.upload.chunks[c].xhr===b)return a.upload.chunks[c]}},{key:"_uploadData",value:function(a,b){for(var c=this,f=new XMLHttpRequest,g=0;!(g>=a.length);)a[g++].xhr=f;a[0].upload.chunked&&(a[0].upload.chunks[b[0].chunkIndex].xhr=f);g=this.resolveOption(this.options.method,a);var e=this.resolveOption(this.options.url,a);f.open(g,e,!0);f.timeout=this.resolveOption(this.options.timeout,
a);f.withCredentials=!!this.options.withCredentials;f.onload=function(b){c._finishedUploading(a,f,b)};f.onerror=function(){c._handleUploadError(a,f)};(null!=f.upload?f.upload:f).onprogress=function(b){return c._updateFilesUploadProgress(a,f,b)};g={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&d.extend(g,this.options.headers);for(var h in g)(e=g[h])&&f.setRequestHeader(h,e);h=new FormData;if(this.options.params){g=this.options.params;
"function"===typeof g&&(g=g.call(this,a,f,a[0].upload.chunked?this._getChunk(a[0],f):null));for(var k in g)h.append(k,g[k])}for(k=0;!(k>=a.length);)g=a[k++],this.emit("sending",g,f,h);this.options.uploadMultiple&&this.emit("sendingmultiple",a,f,h);this._addFormElementData(h);for(k=0;k<b.length;k++)g=b[k],h.append(g.name,g.data,g.filename);this.submitRequest(f,h,a)}},{key:"_transformFiles",value:function(a,b){for(var c=this,d=[],g=0,e=function(f){c.options.transformFile.call(c,a[f],function(c){d[f]=
c;++g===a.length&&b(d)})},h=0;h<a.length;h++)e(h)}},{key:"_addFormElementData",value:function(a){if("FORM"===this.element.tagName)for(var b=this.element.querySelectorAll("input, textarea, select, button"),c=0;!(c>=b.length);){var d=b[c++],e=d.getAttribute("name"),l=d.getAttribute("type");l&&(l=l.toLowerCase());if("undefined"!==typeof e&&null!==e)if("SELECT"===d.tagName&&d.hasAttribute("multiple"))for(d=d.options,l=0;!(l>=d.length);){var h=d[l++];h.selected&&a.append(e,h.value)}else(!l||"checkbox"!==
l&&"radio"!==l||d.checked)&&a.append(e,d.value)}}},{key:"_updateFilesUploadProgress",value:function(a,b,c){if("undefined"!==typeof c){var d=100*c.loaded/c.total;if(a[0].upload.chunked){var e=a[0];b=this._getChunk(e,b);b.progress=d;b.total=c.total;b.bytesSent=c.loaded;e.upload.progress=0;e.upload.total=0;for(d=e.upload.bytesSent=0;d<e.upload.totalChunkCount;d++)void 0!==e.upload.chunks[d]&&void 0!==e.upload.chunks[d].progress&&(e.upload.progress+=e.upload.chunks[d].progress,e.upload.total+=e.upload.chunks[d].total,
e.upload.bytesSent+=e.upload.chunks[d].bytesSent);e.upload.progress/=e.upload.totalChunkCount}else for(e=0;!(e>=a.length);)b=a[e++],b.upload.progress=d,b.upload.total=c.total,b.upload.bytesSent=c.loaded;for(d=0;!(d>=a.length);)c=a[d++],this.emit("uploadprogress",c,c.upload.progress,c.upload.bytesSent)}else{c=!0;d=100;for(e=0;!(e>=a.length);){b=a[e++];if(100!==b.upload.progress||b.upload.bytesSent!==b.upload.total)c=!1;b.upload.progress=d;b.upload.bytesSent=b.upload.total}if(!c)for(c=0;!(c>=a.length);)e=
a[c++],this.emit("uploadprogress",e,d,e.upload.bytesSent)}}},{key:"_finishedUploading",value:function(a,b,c){var f=void 0;if(a[0].status!==d.CANCELED&&4===b.readyState){if("arraybuffer"!==b.responseType&&"blob"!==b.responseType&&(f=b.responseText,b.getResponseHeader("content-type")&&~b.getResponseHeader("content-type").indexOf("application/json")))try{f=JSON.parse(f)}catch(g){c=g,f="Invalid JSON response from server."}this._updateFilesUploadProgress(a);200<=b.status&&300>b.status?a[0].upload.chunked?
a[0].upload.finishedChunkUpload(this._getChunk(a[0],b)):this._finished(a,f,c):this._handleUploadError(a,b,f)}}},{key:"_handleUploadError",value:function(a,b,c){if(a[0].status!==d.CANCELED){if(a[0].upload.chunked&&this.options.retryChunks){var f=this._getChunk(a[0],b);if(f.retries++<this.options.retryChunksLimit){this._uploadData(a,[f.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}for(f=0;!(f>=a.length);)f++,this._errorProcessing(a,c||this.options.dictResponseError.replace("{{statusCode}}",
b.status),b)}}},{key:"submitRequest",value:function(a,b,c){a.send(b)}},{key:"_finished",value:function(a,b,c){for(var f=0;!(f>=a.length);){var e=a[f++];e.status=d.SUCCESS;this.emit("success",e,b,c);this.emit("complete",e)}this.options.uploadMultiple&&(this.emit("successmultiple",a,b,c),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(a,b,c){for(var e=0;!(e>=a.length);){var g=a[e++];g.status=d.ERROR;this.emit("error",
g,b,c);this.emit("complete",g)}this.options.uploadMultiple&&(this.emit("errormultiple",a,b,c),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}}]);return d}(Emitter);Dropzone.initClass();Dropzone.version="5.3.0";Dropzone.options={};Dropzone.optionsForElement=function(e){if(e.getAttribute("id"))return Dropzone.options[camelize(e.getAttribute("id"))]};
Dropzone.instances=[];Dropzone.forElement=function(e){"string"===typeof e&&(e=document.querySelector(e));if(null==(null!=e?e.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone};Dropzone.autoDiscover=!0;
Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var d=function(a){for(var b=[],c=0;!(c>=a.length);){var d=a[c++];/(^| )dropzone($| )/.test(d.className)?b.push(e.push(d)):b.push(void 0)}return b};d(document.getElementsByTagName("div"));d(document.getElementsByTagName("form"))}return function(){for(var a=[],b=e,c=0;!(c>=b.length);){var d=b[c++];!1!==Dropzone.optionsForElement(d)?a.push(new Dropzone(d)):a.push(void 0)}return a}()};
Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var d=Dropzone.blacklistedBrowsers,a=0;!(a>=d.length);)d[a++].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e};
Dropzone.dataURItoBlob=function(e){var d=atob(e.split(",")[1]);e=e.split(",")[0].split(":")[1].split(";")[0];for(var a=new ArrayBuffer(d.length),b=new Uint8Array(a),c=0,f=d.length,g=0<=f;g?c<=f:c>=f;g?c++:c--)b[c]=d.charCodeAt(c);return new Blob([a],{type:e})};var without=function(e,d){return e.filter(function(a){return a!==d}).map(function(a){return a})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(d){return d.charAt(1).toUpperCase()})};
Dropzone.createElement=function(e){var d=document.createElement("div");d.innerHTML=e;return d.childNodes[0]};Dropzone.elementInside=function(e,d){if(e===d)return!0;for(;e=e.parentNode;)if(e===d)return!0;return!1};Dropzone.getElement=function(e,d){var a=void 0;"string"===typeof e?a=document.querySelector(e):null!=e.nodeType&&(a=e);if(null==a)throw Error("Invalid `"+d+"` option provided. Please provide a CSS selector or a plain HTML element.");return a};
Dropzone.getElements=function(e,d){var a=void 0,b=void 0;if(e instanceof Array){b=[];try{for(var c=0;!(c>=e.length);)a=e[c++],b.push(this.getElement(a,d))}catch(g){b=null}}else if("string"===typeof e){b=[];c=document.querySelectorAll(e);for(var f=0;!(f>=c.length);)a=c[f++],b.push(a)}else null!=e.nodeType&&(b=[e]);if(null==b||!b.length)throw Error("Invalid `"+d+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return b};
Dropzone.confirm=function(e,d,a){if(window.confirm(e))return d();if(null!=a)return a()};Dropzone.isValidFile=function(e,d){if(!d)return!0;d=d.split(",");for(var a=e.type,b=a.replace(/\/.*$/,""),c=d,f=0;!(f>=c.length);){var g=c[f++];g=g.trim();if("."===g.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(g.toLowerCase(),e.name.length-g.length))return!0}else if(/\/\*$/.test(g)){if(b===g.replace(/\/.*$/,""))return!0}else if(a===g)return!0}return!1};
"undefined"!==typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})});"undefined"!==typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone;Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";
var detectVerticalSquash=function(e){var d=e.naturalHeight,a=document.createElement("canvas");a.width=1;a.height=d;a=a.getContext("2d");a.drawImage(e,0,0);e=a.getImageData(1,0,1,d).data;a=0;for(var b=d,c=d;c>a;)0===e[4*(c-1)+3]?b=c:a=c,c=b+a>>1;d=c/d;return 0===d?1:d},drawImageIOSFix=function(e,d,a,b,c,f,g,l,h,k){var m=detectVerticalSquash(d);return e.drawImage(d,a,b,c,f,g,l,h,k/m)},ExifRestore=function(){function e(){_classCallCheck(this,e)}_createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(d){for(var a="",b,c,e,g,l,h,k=0;b=d[k++],c=d[k++],e=d[k++],g=b>>2,b=(b&3)<<4|c>>4,l=(c&15)<<2|e>>6,h=e&63,isNaN(c)?l=h=64:isNaN(e)&&(h=64),a=a+this.KEY_STR.charAt(g)+this.KEY_STR.charAt(b)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(h),k<d.length;);return a}},{key:"restore",value:function(d,a){if(!d.match("data:image/jpeg;base64,"))return a;var b=this.decode64(d.replace("data:image/jpeg;base64,",""));
b=this.slice2Segments(b);b=this.exifManipulation(a,b);return"data:image/jpeg;base64,"+this.encode64(b)}},{key:"exifManipulation",value:function(d,a){var b=this.getExifArray(a);b=this.insertExif(d,b);return new Uint8Array(b)}},{key:"getExifArray",value:function(d){for(var a,b=0;b<d.length;){a=d[b];if(255===a[0]&225===a[1])return a;b++}return[]}},{key:"insertExif",value:function(d,a){var b=d.replace("data:image/jpeg;base64,",""),c=this.decode64(b),e=c.indexOf(255,3);b=c.slice(0,e);c=c.slice(e);b=b.concat(a);
return b=b.concat(c)}},{key:"slice2Segments",value:function(d){for(var a=0,b=[];!(255===d[a]&218===d[a+1]);){if(255===d[a]&216===d[a+1])a+=2;else{var c=256*d[a+2]+d[a+3];c=a+c+2;a=d.slice(a,c);b.push(a);a=c}if(a>d.length)break}return b}},{key:"decode64",value:function(d){var a=0,b=[];/[^A-Za-z0-9\+\/=]/g.exec(d)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");for(d=d.replace(/[^A-Za-z0-9\+\/=]/g,
"");;){var c=this.KEY_STR.indexOf(d.charAt(a++));var e=this.KEY_STR.indexOf(d.charAt(a++));var g=this.KEY_STR.indexOf(d.charAt(a++));var l=this.KEY_STR.indexOf(d.charAt(a++));c=c<<2|e>>4;e=(e&15)<<4|g>>2;var h=(g&3)<<6|l;b.push(c);64!==g&&b.push(e);64!==l&&b.push(h);if(!(a<d.length))break}return b}}]);return e}();ExifRestore.initClass();
var contentLoaded=function(e,d){var a=!1,b=!0,c=e.document,f=c.documentElement,g=c.addEventListener?"addEventListener":"attachEvent",l=c.addEventListener?"removeEventListener":"detachEvent",h=c.addEventListener?"":"on",k=function n(b){if("readystatechange"!==b.type||"complete"===c.readyState)if(("load"===b.type?e:c)[l](h+b.type,n,!1),!a&&(a=!0))return d.call(e,b.type||b)},m=function n(){try{f.doScroll("left")}catch(p){setTimeout(n,50);return}return k("poll")};if("complete"!==c.readyState){if(c.createEventObject&&
f.doScroll){try{b=!e.frameElement}catch(n){}b&&m()}c[g](h+"DOMContentLoaded",k,!1);c[g](h+"readystatechange",k,!1);return e[g](h+"load",k,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()};contentLoaded(window,Dropzone._autoDiscoverFunction);function __guard__(e,d){return"undefined"!==typeof e&&null!==e?d(e):void 0}function __guardMethod__(e,d,a){if("undefined"!==typeof e&&null!==e&&"function"===typeof e[d])return a(e,d)};
/* Chosen v1.8.3 | (c) 2011-2018 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */
(function(){var t,e,s,i,n=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function s(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},o={}.hasOwnProperty;(i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,n,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],s=0,i=(r=t.childNodes).length;s<i;s++)n=r[s],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,s,n,r,o;for(r=new i,s=0,n=(o=t.childNodes).length;s<n;s++)e=o[s],r.add_node(e);return r.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},this.label_click_handler=n(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){return this.click_test_action=function(t){return function(e){return t.test_active_click(e)}}(this),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout(function(t){return function(){return t.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(t){return function(){return t.blur_test()}}(this),100)},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,s,i,n,r,o,h;for(e="",h=0,n=0,r=(o=this.results_data).length;n<r&&(s=o[n],i="",""!==(i=s.group?this.result_add_group(s):this.result_add_option(s))&&(h++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(h>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.style.cssText=t.style,s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,s,i,n;for(n=[],t=0,e=(s=this.results_data).length;t<e;t++)(i=s[t]).selected?n.push(i.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,s,i,n,r,o,h,l,c,_,a,u,d,p;for(this.no_results_clear(),c=0,t=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=this.get_search_regex(t),s=0,i=(h=this.results_data).length;s<i;s++)(n=h[s]).search_match=!1,_=null,a=null,n.highlighted_html="",this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(_=this.results_data[n.group_array_index]).active_options&&_.search_match&&(c+=1),_.active_options+=1),p=n.group?n.label:n.text,n.group&&!this.group_search||(a=this.search_string_match(p,l),n.search_match=null!=a,n.search_match&&!n.group&&(c+=1),n.search_match?(o.length&&(u=a.index,r=p.slice(0,u),e=p.slice(u,u+o.length),d=p.slice(u+o.length),n.highlighted_html=this.escape_html(r)+"<em>"+this.escape_html(e)+"</em>"+this.escape_html(d)),null!=_&&(_.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),c<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(s="^"+s),e=this.case_sensitive_search?"":"i",new RegExp(s,e)},t.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},t.prototype.choices_count=function(){var t,e,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(s=this.form_field.options).length;t<e;t++)s[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout(function(t){return function(){return t.results_search()}}(this),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <input class="chosen-search-input" type="text" autocomplete="off" />\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),(t=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var n,r;r=(n=t(this)).data("chosen"),"destroy"!==i?r instanceof s||n.data("chosen",new s(this,i)):r instanceof s&&r.destroy()}):this}}),s=function(s){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},n.prototype.set_up_html=function(){var e,s;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",function(t){t.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},n.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return!e||"mousedown"!==(s=e.type)&&"touchstart"!==s||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},n.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},n.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},n.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){var s;return(s=t(e.target).closest(".chosen-container")).length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(t){var e,s,i,n,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=i+r,s=this.result_highlight.position().top+this.search_results.scrollTop(),(e=s+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<r)return this.search_results.scrollTop(s)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple||this.search_container.append(this.search_field),this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(t){return this.search_results.html(t)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.is_multiple||(this.selected_item.prepend(this.search_field),this.search_field.focus()),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},n.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var s;if((s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},n.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(s)},n.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},n.prototype.choice_build=function(e){var s,i;return s=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?s.addClass("search-choice-disabled"):((i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",function(t){return function(e){return t.choice_destroy_link_click(e)}}(this)),s.append(i)),this.search_container.before(s)},n.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(t){var e,s;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),s=this.results_data[e[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.search_field.val(""),this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?this.winnow_results():(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},n.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},n.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_field_value=function(){return this.search_field.val()},n.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},n.prototype.escape_html=function(e){return t("<div/>").text(e).html()},n.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(t=e.length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},n.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.search_field_scale=function(){var e,s,i,n,r,o,h;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},s=0,i=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;s<i;s++)r[n=o[s]]=this.search_field.css(n);return(e=t("<div />").css(r)).text(this.get_search_field_value()),t("body").append(e),h=e.width()+25,e.remove(),this.container.is(":visible")&&(h=Math.min(this.container.outerWidth()-10,h)),this.search_field.width(h)}},n.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},n}()}).call(this);
/* jQuery Masked Input Plugin 1.4.0 | Copyright (c) 2007 - 2014 Josh Bush (digitalbush.com) | Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(a.length<o.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a)},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})});
